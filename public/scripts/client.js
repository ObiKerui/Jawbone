!function(){"use strict";angular.module("jbtemplates",[]),angular.module("config",[]),angular.module("constants",[]),angular.module("mainRoute",["ui.router"]),angular.module("run",[]),angular.module("jawboneApp",["config","constants","mainRoute","run","ngAnimate","ngSanitize","ngFileSaver","ui.bootstrap","ui.router","googlechart","jbtemplates"]),angular.module("jawboneGatewayApp",["jawboneApp","PreloadedData"]),angular.module("jawboneUApp",["jawboneApp","PreloadedData"]),angular.module("jawboneSUApp",["jawboneApp","PreloadedData"])}(),function(){"use strict";function e(e,t,n){t.selectedUser=null,t.onSelect=function(i){t.selectedUser=i,e.info("selected de user: "+JSON.stringify(t.selectedUser)),n.onSelect(t.selectedUser)},t.onConfirm=function(){e.info("user yah confirm it : "+JSON.stringify(t.selectedUser)),n.onConfirm()}}function t(e,t,n,i){t.listobj={},t.listobj.template="app/user/_user-element-tpl.html",t.listobj.heading="Users",t.listobj.getElementsObj=i,t.listobj.makeElement=function(e){return new n(e)}}function n(n,i,r){var o=function(o){var l=this,a=r.makeBatch("users");e(n,l,o),t(n,l,i,a)};return o}function i(e,t){var n=function(e){var n=this;n.tpl="app/user/_user-select-modal-tpl.html",n.selection=null,n.onSelect=function(e){n.selection=e},n.onConfirm=function(){e&&e(n.selection)},n.callbacks={onSelect:n.onSelect,onConfirm:n.onConfirm},n.userlist=new t(n.callbacks)};return n}function r(e,t,n,i,r){var o=function(o){e.info("data to user control: "+JSON.stringify(o));var l=this;l.profiledata=o||{},l.profile=new t(l.profiledata),l.clickFtn=o.clickFtn||function(){n.onClick(new i(function(t){e.info("this called to confirm selection: "+JSON.stringify(t)),r.setUser(t)})).then(function(t){e.info("result of modal: "+JSON.stringify(t))})},l.onClick=function(){l.clickFtn()}};return o}function o(e,t){var n=function(e){var n=this;n.data=e||{},n.jawboneId=e.jawboneId||"blank",n.obj=e.profile||{},n.first=n.obj.first||"blank",n.last=n.obj.last||"blank",n.weight=n.obj.weight||"blank weight",n.gender=n.obj.gender||"no gender",n.height=n.obj.height||"no height",n.stats=n.obj.stats||{},n.image=t.extractData("userImage",e),n.selected=!1,n.activated=function(){n.selected=!0},n.deactivated=function(){n.selected=!1}};return n}function l(e,t,n,i,r){var o=this;r.$watch(function(e){return o.obj},function(e,t){e&&(o.uo=o.obj)})}function a(e){var t={restrict:"E",scope:{},controller:"UserCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/user/_user-tpl.html"};return t}l.$inject=["$q","$log","$http","$window","$scope"],n.$inject=["$log","UserObj","JawboneService"],i.$inject=["$log","UsersComponentBuilder"],r.$inject=["$log","UserObj","ModalService","UserSelectorObj","JawboneService"],o.$inject=["$log","JawboneService"],a.$inject=["$log"],angular.module("jawboneApp").factory("UsersComponentBuilder",n).factory("UserSelectorObj",i).factory("UserComp",r).factory("UserObj",o).controller("UserCtrl",l).directive("user",a)}(),function(){"use strict";function e(e,t,n){t.selectedTrend=null,t.onSelect=function(e){t.selectedTrend=e},t.onConfirm=function(){e.info("trends: yah confirm it")}}function t(e,t,n,i,r,o){n.listobj={},n.listobj.template="app/trends/_trends-element-tpl.html",n.listobj.headerbar="app/trends/_trends-header.html",n.listobj.heading="Trends",n.listobj.getElementsObj=o,n.listobj.getElements=function(){var t=e.defer();return t.resolve(i.data||[]),t.promise},n.listobj.makeElement=function(e){return new r(e)}}function n(n,i,r,o){var l=function(l){var a=this;a.profile=o.extractData("profile",l),a.name=a.profile.first+" "+a.profile.last,a.trends=o.extractData("trends",l),a.earliest=a.trends.earliest||new Date,a.elems=a.trends.data||[];var s=o.makeBatch("trends");e(i,a,a.elems),t(n,i,a,a.elems,r,s)};return l}function i(e){var t=function(e){this.data=e||[],this.date=e[0]||new Date,this.details=e[1]||{},this.weight=this.details.weight||null,this.height=this.details.height||null,this.bmr=this.details.bmr||0,this.totalCalories=this.details.m_total_calories||0,this.age=this.details.age||0;var t=this;t.selected=!1,this.activated=function(){t.selected=!0},this.deactivated=function(){t.selected=!1}};return t}n.$inject=["$q","$log","TrendObj","JawboneService"],i.$inject=["$log"],angular.module("jawboneApp").factory("TrendsComponentBuilder",n).factory("TrendObj",i)}(),function(){"use strict";function e(e,t,n,i){var r=function(e){var r=this;r.profile=i.extractData("profile",e),r.name=r.profile.first+" "+r.profile.last,r.getElementsObj=i.makeBatch("trends"),r.makePlotParams=function(e){return e=e||r.profile,{range:[new Date(2016,11,1),new Date(2017,2,20)],plotName:e.first}},r.preprocessElements=function(e){return e},r.makeElement=function(e){return new n(e)},r.getPlotNames=function(){return["weight","height","bmr","totalCalories"]},r.title="Trends",r.doNewTest=function(){PlotGenerator.testit(r.elements)},r.extractFromUser=function(e){var n=i.makeBatch("trends",e._id);return n.get().then(function(e){return t.info("return the trends response: "+JSON.stringify(e)),e})},r.extract=function(e,t){var n=r.getPlotNames();return e[n[t]]}};return r}e.$inject=["$q","$log","TrendObj","JawboneService"],angular.module("jawboneApp").factory("TrendsChartBuilderObj",e)}(),function(){"use strict";function e(e,t,n,i){function r(){n.getMainUser().then(function(t){return e.info("summary info : "+JSON.stringify(t)),n.getUser(t._id)}).then(function(e){return i.build(e,n.getUsers)}).then(function(e){o.userprofile=e.userprofile,o.groups=e.groups,o.patients=e.patients})["catch"](function(t){e.info("error intialising profile ctrl: "+JSON.stringify(t))})}var o=this;r(),e.info("profile controller a ran")}e.$inject=["$log","$scope","JawboneService","ProfileComponentBuilder"],angular.module("jawboneSUApp").controller("ProfileCtrl",e)}(),function(){"use strict";function e(e,t,n,i,r){console.log("ran config"),t.debugEnabled(!0),r.when("/?code","profile.user"),r.otherwise(function(e,t){var n=e.get("$state");n.go("profile.groups")}),i.state("profile",{"abstract":!0,url:"/?code",templateUrl:"app/superuser/profile-main.html",controller:"ProfileCtrl",controllerAs:"profile"}).state("profile.patients",{url:"patients",templateUrl:"app/superuser/patients.html"}).state("profile.groups",{url:"groups",templateUrl:"app/superuser/groups.html"})}function t(e,t,n){e.info("we did execute the run block"),e.info("pre loaded data: "+JSON.stringify(t)),n.init(t)}e.$inject=["$httpProvider","$logProvider","$locationProvider","$stateProvider","$urlRouterProvider"],t.$inject=["$log","JawboneData","JawboneService"],angular.module("jawboneSUApp").config(e).run(t)}(),function(){"use strict";function e(e,t,n){t.selectedSleep=null,t.onSelect=function(e){t.selectedSleep=e},t.onConfirm=function(){e.info("sleep: yah confirm it")}}function t(e,t,n,i,r,o){t.info("sleeps data: "+JSON.stringify(i)),n.listobj={},n.listobj.template="app/sleeps/_sleeps-element-tpl.html",n.listobj.headerbar="app/sleeps/_sleeps-header-tpl.html",n.listobj.heading="Sleeps",n.listobj.loaderMessage="Loading sleep data...",n.listobj.getElementsObj=o,n.listobj.getElements=function(){var t=e.defer();return t.resolve(i||[]),t.promise},n.listobj.makeElement=function(e){return new r(e)}}function n(n,i,r,o){var l=function(l){var a=this;a.profile=o.extractData("profile",l),a.name=a.profile.first+" "+a.profile.last,a.elems=o.extractData("sleeps",l);var s=o.makeBatch(o.makeEndpoint("sleeps"));e(i,a,a.elems),t(n,i,a,a.elems,r,s)};return l}function i(e,t){e=e.toString();var n=e.match(/\d+/g);return 2===n.length?60*parseInt(n[0])+parseInt(n[1]):1===n.length?parseInt(n[0]):e}function r(e){var t=function(t){this.data=t||{},e.info("sleep data: "+JSON.stringify(t)),this.date=t.date||new Date,this.title=i(t.title,e),this.details=t.details||{},this.sounds=this.details.sound||"blank",this.awakenings=this.details.awakenings||0,this.light=this.details.light||0,this.sleep_time=this.details.sleep_time||0,this.awake_time=this.details.awake_time||0,this.awake=this.details.awake||0,this.rem=this.details.rem||0,this.duration=this.details.duration||0,this.image="https://jawbone.com"+this.data.snapshot_image;var n=this;n.selected=!1,n.activated=function(){n.selected=!0},n.deactivated=function(){n.selected=!1}};return t}n.$inject=["$q","$log","SleepObj","JawboneService"],r.$inject=["$log"],angular.module("jawboneApp").factory("SleepsComponentBuilder",n).factory("SleepObj",r)}(),function(){"use strict";function e(e){var t=function(t,n){e.info("ran sleeps chart downloader with arg: "+JSON.stringify(t));var i=this;i.tpl="app/sleeps/_sleeps-chart-download-tpl.html",i.downloader={},i.downloader.getData=n||function(){return e.info("implement a getSleepData ftn in SleepsChartDownloaderBuilder"),[]},i.downloader.content=i.downloader.getData()};return t}function t(e){var t=function(t){e.info("ran sleeps chart downloader obj with obj: "+JSON.stringify(t))};return t}e.$inject=["$log"],t.$inject=["$log"],angular.module("jawboneApp").factory("SleepsChartDownloaderBuilder",e).factory("SleepsChartDownloaderObj",t)}(),function(){"use strict";function e(e,t,n,i){var r=function(e){function r(e,t){return parseInt(Math.random()*(t-e)+e)}function o(e){t.info("data is: "+JSON.stringify(e));var n=e.data.slice();return angular.forEach(n,function(e){var t=r(1,3),n=r(1,60);e.title=t+"h "+n+"m"},n),e.data=n,e}var l=this;l.profile=i.extractData("profile",e),l.name=l.profile.first+" "+l.profile.last,l.getElementsObj=i.makeBatch(i.makeEndpoint("sleeps")),l.getGraphDataCB=function(){t.info("implement this 'getGraphDataCB' callback")},l.makeElement=function(e){return new n(e)},l.makePlotParams=function(e){return e=e||l.profile,{range:[new Date(2016,11,1),new Date(2017,2,20)],plotName:e.first}},l.preprocessElements=function(e){return e.reverse()},l.getPlotNames=function(){return["title","sounds","awakenings","light"]},l.title="Sleeps",l.doNewTest=function(){PlotGenerator.testit(l.elements)},l.extractFromUser=function(e){var t=i.makeBatch("sleeps",e._id);return t.get().then(function(e){return o(e)})},l.extract=function(e,t){var n=l.getPlotNames();n[t];return e[n[t]]}};return r}e.$inject=["$q","$log","SleepObj","JawboneService"],angular.module("jawboneApp").factory("SleepsChartBuilderObj",e)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{}};return t}function t(e,t,n){var i=this;t.$watch(function(e){return i.obj},function(e,t){e&&(i.smo=new n(i.obj))})}function n(e){var t={restrict:"E",scope:{},controller:"SideMenuCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/side-menu/_side-menu-tpl.html"};return t}t.$inject=["$log","$scope","SideMenuObj"],e.$inject=["$log"],n.$inject=["$log"],angular.module("jawboneApp").factory("SideMenuObj",e).controller("SideMenuCtrl",t).directive("sideMenu",n)}(),function(){"use strict";function e(e,t,n,i){var r=function(e,t){function r(e){o.recentUsers.push(e.data)}var o=this;o.data=e||{},o.recentUsers=[],n.setUserCallback(r),o.listobj=o.listobj||{},o.listobj.heading="Recent Users",o.listobj.template=o.listobj.template||"app/user/_user-element-tpl.html",o.listobj.chunksize=o.listobj.chunksize||1,o.listobj.getElementsObj=n.makeBatch("recentUsers"),o.listobj.makeElement=function(e){return new i(e)}};return r}e.$inject=["$q","$log","JawboneService","UserObj"],angular.module("jawboneApp").factory("RecentUsersObj",e)}(),function(){"use strict";function e(e,t,n,i,r){console.log("ran config user app"),t.debugEnabled(!0),r.when("/?code","profile.user"),r.otherwise(function(e,t){var n=e.get("$state");n.go("profile.sleeps")}),i.state("profile",{"abstract":!0,url:"/?code",templateUrl:"app/profile/profile-main.html",controller:"ProfileCtrl",controllerAs:"profile"}).state("profile.friends",{url:"friends",templateUrl:"app/profile/friends.html"}).state("profile.moves",{url:"moves",templateUrl:"app/profile/moves.html"}).state("profile.trends",{url:"trends",templateUrl:"app/profile/trends.html"}).state("profile.sleeps",{url:"sleeps",templateUrl:"app/profile/sleeps.html"})}function t(e,t,n){e.info("we did execute the run block"),e.info("pre loaded data: "+JSON.stringify(t)),n.init(t)}e.$inject=["$httpProvider","$logProvider","$locationProvider","$stateProvider","$urlRouterProvider"],t.$inject=["$log","JawboneData","JawboneService"],angular.module("jawboneUApp").config(e).run(t)}(),function(){"use strict";function e(e,t,n,i){function r(){n.getMainUser().then(function(e){return n.getUser(e._id)}).then(function(e){return i.build(e,n.getUsers)}).then(function(e){l.sleeps=e.sleeps,l.sleepschart=e.sleepschart,l.trends=e.trends,l.trendschart=e.trendschart,l.userprofile=e.userprofile,l.recentUsers=e.recentUsers})["catch"](function(t){e.info("error intialising profile ctrl: "+JSON.stringify(t))})}function o(t){e.info("new user selected: "+JSON.stringify(t))}var l=this;l.users=null,l.sleeps=null,l.trends=null,r(),n.setUserCallback(o)}e.$inject=["$log","$scope","JawboneService","ProfileComponentBuilder"],angular.module("jawboneUApp").controller("ProfileCtrl",e)}(),function(){"use strict";function e(e,t,n,i,r,o,l){var a=function(){};return a.build=function(t,i){var r=e.defer(),o=new n(t,i);return r.resolve(o),r.promise},a}function t(e,t,n,i,r,o,l,a,s){var c=function(e,c){var p=this;p.user=e||{},p.jbdata=p.user.jbdata,p.sleeps=new t(p.user),p.sleepschart=new r(p.user),p.trends=new n(p.user),p.trendschart=new i(p.user),p.userprofile=new a(e,c),p.recentUsers=new s(e,c),p.groups=new o(p.user),p.patients=new l(p.user)};return c}e.$inject=["$q","$log","ProfileObj","JawboneService","GoalsComponentBuilder","ListViewerCtrlObj","UsersComponentBuilder"],t.$inject=["$log","SleepsComponentBuilder","TrendsComponentBuilder","TrendsChartBuilderObj","SleepsChartBuilderObj","GroupsComponentBuilder","PatientsComponentBuilder","UserComp","RecentUsersObj"],angular.module("jawboneApp").factory("ProfileComponentBuilder",e).factory("ProfileObj",t)}(),function(){"use strict";function e(e){var t=function(t){e.info("patient summary obj : "+JSON.stringify(t));var n=this;n.user=t||{},n.actionBar="app/patient/_patient-summary-action-bar-tpl.html"};return t}function t(e,t,n){var i=this;i.pso=null,e.$watch(function(e){return i.obj},function(e,n){e&&(t.info("assign patient summ obj : "+JSON.stringify(e)),i.pso=i.obj)})}function n(e){var t={restrict:"E",scope:{},controller:"PatientSummCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/patient/_patient-summary-tpl.html"};return t}e.$inject=["$log"],t.$inject=["$scope","$log","PatientSummObj"],n.$inject=["$log"],angular.module("jawboneApp").factory("PatientSummObj",e).controller("PatientSummCtrl",t).directive("patientSummary",n)}(),function(){"use strict";function e(e,t,n){e.patientSummary=new n(t),e.patientSummary.parent={switchView:function(){e.mode="view"},showPatientNotes:function(){d.info("implement show patient notes")},downloadToCSV:function(){d.info("implement show patient notes")}}}function t(e,t,n){e.sleepsViewer.listobj={},e.sleepsViewer.listobj.template="app/sleeps/_sleeps-element-tpl.html",e.sleepsViewer.listobj.headerbar="app/sleeps/_sleeps-header-tpl.html",e.sleepsViewer.listobj.heading="Sleeps",e.sleepsViewer.listobj.loaderMessage="Loading sleep data...",e.sleepsViewer.listobj.getElementsObj=f.makeBatch(f.makeEndpoint("sleeps",t._id)),e.sleepsViewer.listobj.makeElement=function(e){return new n(e)}}function n(e,t,n){e.sleepsChart=new n(t)}function i(e,t,n){e.patientSummary.parent.downloadToCSV=function(){n.onClick(new t(e,function(){return e.sleepsChart.getGraphDataCB()})).then(function(e){})}}function r(e,t){e.patientSummary.parent.showPatientNotes=function(){t.onClick({tpl:"app/patient/_patient-notes-viewer-tpl.html"}).then(function(e){})}}function o(o,l,a,s,c,p){o.mode="view",o.patientViewer.onSelect=function(u){e(o,u.data.user,c),t(o,u.data.user,l),n(o,u.data.user,a),i(o,s,p),r(o,p),o.mode="edit"}}function l(e,t,n){e.patientViewer.listobj={},e.patientViewer.listobj.template="app/patient/_patient-element-tpl.html",e.patientViewer.listobj.heading="Patients",e.patientViewer.listobj.loaderMessage="Loading Patients...";t._id||null;e.patientViewer.listobj.getElementsObj=f.makeBatch(f.makeFieldGetter("groups",t._id,"members")),e.patientViewer.listobj.makeElement=function(e){return new n(e)}}function a(e){return function(e){return e?e:"assets/users.png"}}function s(e,t,n,i,r,a,s,c,p){var u=function(e,u){d=t,f=r,d.info("user group: "+JSON.stringify(u));var m=this;u=u||{},m.profile=r.extractData("profile",e),m.name=m.profile.first+" "+m.profile.last,m.patients=r.extractData("patients",e),m.mode="view",m.patientSummary={},m.patientViewer={},m.sleepsViewer={},m.sleepsChart={},m.downloader={},m.noteViewer={},o(m,i,a,s,c,p),l(m,u,n)};return u}function c(e,t){var n=function(e){var n=this;n.data=e||{},n.jawboneId=e.jawboneId||"blank",n.obj=e.user.profile||{},n.first=n.obj.first||"blank",n.last=n.obj.last||"blank",n.weight=n.obj.weight||"blank weight",n.gender=n.obj.gender||"no gender",n.height=n.obj.height||"no height",n.joinDate=e.joinDate||null,this.api=new t(this)};return n}function p(e){}function u(e){var t={restrict:"E",scope:{},controller:"PatientCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/patient/_patient-mgr-tpl.html"};return t}s.$inject=["$q","$log","PatientObj","SleepObj","JawboneService","SleepsChartBuilderObj","SleepsChartDownloaderBuilder","PatientSummObj","ModalService"],c.$inject=["$log","ListElementAPIObj"],a.$inject=["$log"],p.$inject=["$log"],u.$inject=["$log"],angular.module("jawboneApp").factory("PatientsComponentBuilder",s).factory("PatientObj",c).filter("defaultPatient",a).controller("PatientCtrl",p).directive("patientMgr",u);var d=null,f=null}(),function(){"use strict";function e(){return function(e){return e?e:e}}function t(e){var t=function(t,n){e.info("the note data: "+JSON.stringify(t));var i=this;i._id=t._id,i.text=t.text||"blank",i.owner=t.owner||null,i.creationDate=t.creationDate||null,i.textLimit=50,i.selected=!1,i.cbs=n||{},i["delete"]=function(){e.info("delete me: "+JSON.stringify(i)),i.cbs.onDelete(i)},i.clicked=function(){},i.onSelected=function(){i.selected=!0},i.onDeselected=function(){i.selected=!1}};return t}function n(e,t,n,i){var r=function(r){function o(e){e.editMode=function(){return"edit"===e.mode},e.createMode=function(){return"view"===e.mode},e.cancelNote=function(){e.tempnote=null},e.updateNote=function(){n.info("note to update: "+JSON.stringify(e.tempnote,!0,3)),t.updateNote(e.tempnote).then(function(t){e.mode="view",l()})},e.createNote=function(){n.info("note to create: "+JSON.stringify(e.tempnote,!0,3)),t.createNote(e.tempnote).then(function(t){e.mode="view",l()})}}function l(){var i=r||{};a.notes={},a.notes.listobj={},a.notes.listobj.template="app/notes-viewer/_notes-element-tpl.html",a.notes.listobj.getElementsObj=t.makeBatch(t.makeEndpoint("notes")),a.notes.listobj.headerbar="app/notes-viewer/_notes-header-tpl.html",a.notes.listobj.heading="Notes",a.notes.listobj.mode=i.mode||"view",o(a.notes.listobj),a.notes.listobj.makeElement=function(t){return new e(t,a.callbacks)},a.notes.onSelect=function(e){n.info("supplied on select function: "+JSON.stringify(e)),e.onSelected(),a.callbacks.onSelect(e)},a.notes.onDeselect=function(e){n.info("supplied on deselect function: "+JSON.stringify(e)),e.onDeselected(),a.callbacks.onDeselect(e)}}var a=this;a.mode="view",a.note={text:null,owner:null,date:null},a.tempnote={text:null,owner:null,date:null},a.callbacks={onDelete:function(e){i.confirm("delete note, are you sure?").then(function(n){n&&t.deleteNote(e).then(function(e){l()})})},onSelect:function(e){a.notes.listobj.mode="edit",a.notes.listobj.tempnote=angular.copy(e)},onDeselect:function(e){a.notes.listobj.tempnote=null,a.notes.listobj.mode="view"},onEdit:function(e){}},l()};return r}function i(e,t,n){var i=this;i.o=new t,e.$watch(function(e){return i.obj},function(e,t){}),n.info("controller ran for notes viewer : "+JSON.stringify(i.o))}function r(){var e={restrict:"E",scope:{},controller:"NotesViewerCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/notes-viewer/_notes-viewer-tpl.html"};return e}t.$inject=["$log"],n.$inject=["NoteObj","JawboneService","$log","CommonModals"],i.$inject=["$scope","NotesViewerObj","$log"],angular.module("jawboneApp").filter("notesViewerfilter",e).factory("NoteObj",t).factory("NotesViewerObj",n).controller("NotesViewerCtrl",i).directive("notesViewer",r)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{},this.elements=e.items||[]};return t}function t(e,t,n){var i=this;t.$watch(function(e){return i.obj},function(e,t){e&&(i.mo=new n(i.obj))})}function n(e){var t={restrict:"E",scope:{},controller:"MovesCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/moves/_moves-tpl.html"};return t}function i(e){var t=function(e){this.data=e||{},this.date=e.date||new Date,this.title=e.title||"blank"};return t}function r(e,t,n,i,r){var o=this;o.mo=new r(o.obj)}function o(e){var t={restrict:"E",scope:{},controller:"MoveCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/moves/_move-tpl.html"};return t}t.$inject=["$log","$scope","MovesObj"],r.$inject=["$q","$log","$http","$window","MoveObj"],e.$inject=["$log"],n.$inject=["$log"],i.$inject=["$log"],o.$inject=["$log"],angular.module("jawboneApp").factory("MovesObj",e).controller("MovesCtrl",t).directive("moves",n).factory("MoveObj",i).controller("MoveCtrl",r).directive("move",o)}(),function(){"use strict";function e(e){function t(e,t,n){t.bind("DOMMouseScroll mousewheel onmousewheel",function(t){var i=window.event||t;i=i.originalEvent;var r=i.wheelDelta||-i.detail;r<0&&(e.$apply(function(){e.$eval(n.mouseWheelDown)}),t.returnValue=!1,t.preventDefault&&t.preventDefault())})}var n={link:t};return n}function t(e){function t(e,t,n){t.bind("DOMMouseScroll mousewheel onmousewheel",function(t){var i=window.event||t;i=i.originalEvent;var r=i.wheelDelta||-i.detail;r>0&&(e.$apply(function(){e.$eval(n.mouseWheelUp)}),t.returnValue=!1,t.preventDefault&&t.preventDefault())})}var n={link:t};return n}e.$inject=["$log"],t.$inject=["$log"],angular.module("jawboneApp").directive("mouseWheelDown",e).directive("mouseWheelUp",t)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{}};return t}function t(e,t,n){var i=this;t.$watch(function(e){return i.obj},function(e,t){e&&(i.mo=new n(i.obj[2]))})}function n(e){var t={restrict:"E",scope:{},controller:"MoodsCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/moods/_moods-tpl.html"};return t}t.$inject=["$log","$scope","MoodsObj"],e.$inject=["$log"],n.$inject=["$log"],angular.module("jawboneApp").factory("MoodsObj",e).controller("MoodsCtrl",t).directive("moods",n)}(),function(){"use strict";function e(e,t,n){var i=this;i.resolveArg=e,i.template=e.tpl||"app/_default-modal-tpl.html",i.ok=function(){t.close(i.resolveArg)},i.cancel=function(){t.dismiss(i.resolveArg)}}function t(e,t,n){function i(e){var t={};return t.modalSize="sm",t.tpl="app/_default-confirm-modal-tpl.html",t.msg=e||"no message",t.confirmed=!1,t.onConfirm=function(){t.confirmed=!0},n.onClick(t).then(function(e){return e.confirmed})}var r={confirm:i};return r}function n(e,t,n){function i(){}function r(i){var r=i||{},o=r.ctrl||"DefaultModalInstanceCtrl",l=r.size||"md";r.tpl=r.tpl||"app/_default-modal-tpl.html",r.onConfirm=r.onConfirm||function(){e.info("supply on confirm ftn")},r.onDismiss=r.onDismiss||function(){e.info("supply on dismiss ftn")};var a=t.defer(),s=n.open({animation:!1,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/_modal-frame-tpl.html",controller:o,controllerAs:"ctrl",size:l,resolve:{resolveArg:function(){return r}}});return s.result.then(function(e){e.onConfirm(),a.resolve(e)},function(e){e.onDismiss(),a.resolve(e)}),a.promise}var o={init:i,onClick:r};return o}e.$inject=["resolveArg","$uibModalInstance","$log"],n.$inject=["$log","$q","$uibModal"],t.$inject=["$log","$q","ModalService"],angular.module("jawboneApp").controller("DefaultModalInstanceCtrl",e).factory("ModalService",n).factory("CommonModals",t)}(),function(){"use strict";function e(e){var t=this;t.message="Loading...",t.loader="app/loaders/_basic-spinner-tpl.html",t.width=300,t.height=300,e.$watch(function(e){return t.obj},function(e,n){e&&(t.message=e)})}function t(){var e={restrict:"E",scope:{},controller:"LoaderCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/loaders/_loader-frame-tpl.html"};return e}e.$inject=["$scope"],angular.module("jawboneApp").controller("LoaderCtrl",e).directive("loader",t)}(),function(){"use strict";function e(e){var t=function(t){var n=this;n.selected=!1,n.deleteMode=!1,n.confirmDeleteMode=!1,n.container=null,n.child=t,n.notifyParent=function(t,n){e.info("no notify parent function created")},n.setContainer=function(e){n.container=e,n.notifyParent=function(e,t){n.container.handleChildEvent(e,t)}},n.handleParentEvent=function(t,i){switch(e.info("handle parent event: "+t),t){case"select":n.selected=!0;break;case"deselect":n.selected=!1;break;case"deleteMode":n.deleteMode=!n.deleteMode}},n.handleChildEvent=function(e,t){},n.clickedView=function(){e.info("clicked view called"),n.deleteMode?(n.confirmDeleteMode=!0,e.info("confirm delete mode: "+n.confirmDeleteMode)):(e.info("clicked selected"),n.selected=!n.selected,n.notifyParent("clicked",n.selected))},n["delete"]=function(e){n.confirmDeleteMode=!1,n.notifyParent("delete"),e.stopPropagation()},n.cancel=function(e){n.confirmDeleteMode=!1,e.stopPropagation()},n.clickelse=function(t){e.info("clicked elsewhere")}};return t}function t(e){var t=function(t,n,i){var r=this;r.element=n||{},r.index=i,r.element.api=r.element.api||{},r.element.api.setContainer=r.element.api.setContainer||function(){e.info("no set container function supplied")},r.handleChildEvent=function(n,i){e.info("notify parent of event: "+n),e.info("my index is  "+r.index),t(n,i,r.index)},r.handleParentEvent=function(e,t){r.element.api.handleParentEvent(e,t)},r.element.api.setContainer(r)};return t}function n(e,t,n){var i=this;t.$watch(function(e){return i.obj},function(e,t){})}function i(e,t){var n={restrict:"E",scope:{},controller:"ListViewerElemCtrl",controllerAs:"ctrl",bindToController:{tpl:"=",obj:"=",i:"@"},template:"<div ng-include='ctrl.tpl'></div>"};return n}n.$inject=["$log","$scope","ListViewerElemObj"],e.$inject=["$log"],t.$inject=["$log"],i.$inject=["$log","$timeout"],angular.module("jawboneApp").factory("ListElementAPIObj",e).factory("ListViewerElemObj",t).controller("ListViewerElemCtrl",n).directive("lvelem",i)}(),function(){"use strict";function e(e,t){var n=function(n,i){var r=this;r.onSelect=n.onSelect||function(t){e.info("selected: "+JSON.stringify(t))},r.onConfirm=n.onConfirm||function(){e.info("on confirm selection")},r.listobj=new t(n,i)};return n}function t(e,t,n){var i=function(i,r){function o(e,i,r){i.get().then(function(o){t.info("total no. of objects: "+i.params.total);var a=0;angular.forEach(o.data,function(e){var t=l.makeElement(e);this.push(new n(l.handleChildEvent,t,parseInt(a))),a++},e),t.info("size of list: "+JSON.stringify(e.length)),r&&r({nbrElems:e.length,totalElems:i.params.total})})["catch"](function(e){t.info("error getting elements: "+e)})}var l=this;i.onStateChange=r||function(e){t.info("supply a state change function to ChartObj")},l.listobj=i.listobj||{},l.loaderMessage=i.listobj.loaderMessage||"Loading...",l.heading=i.listobj.heading||"blank",l.headerbar=i.listobj.headerbar||"app/list-viewer/_default-headerbar-tpl.html",l.headerObj=i.listobj.headerObj||{},l.template=i.listobj.template||"app/list-viewer/_default-lve-tpl.html",l.chunksize=i.listobj.chunksize||4,l.getElements=l.listobj.getElements||function(){return[]},l.getElementsObj=l.listobj.getElementsObj||{},l.makeElement=l.listobj.makeElement||function(e){return t.info("supply a make element function"),{}},l.onSelect=i.onSelect||function(e){t.info("supply on select function")},l.onDeselect=i.onDeselect||function(e){t.info("supply on deselect function")},l.onEvent=i.onEvent||function(n,i){var r=e.defer();return r.resolve(!0),t.info("supply on event function"),r.promise},l.elements=[],l.selected=-1,l.handleClick=function(e){l.selected!==-1&&l.selected<l.elements.length&&(l.elements[l.selected].handleParentEvent("deselect"),l.onDeselect(l.elements[l.selected].element)),l.selected!==e?(l.selected=e,l.onSelect(l.elements[l.selected].element)):l.selected=-1},l.handleChildEvent=function(e,n,i){switch(e){case"clicked":l.handleClick(i);break;case"delete":l.onEvent(e,l.elements[i].element).then(function(e){t.info("event handled with response : "+e),l.deleteElement(i)})}},l.listobj.baseFtns={deselectAll:function(){l.selected=-1,angular.forEach(l.elements,function(e){e.handleParentEvent("deselect"),l.onDeselect(e.element)},l.elements)},propagateEvent:function(e,n){angular.forEach(l.elements,function(i){t.info("event action for elem: "+e),i.handleParentEvent(e,n)},l.elements)}},l.deleteElement=function(e){l.elements=[],o(l.elements,l.getElementsObj)},l.appendElements=function(){return l.getElementsObj=l.getElementsObj.next(),t.info("next batch..params: "+JSON.stringify(l.getElementsObj.params)),l.getElementsObj.more()?void o(l.elements,l.getElementsObj):(t.info("no more to get w/ params: "+JSON.stringify(l.getElementsObj.params)),void t.info("no more to get w/ elems :  "+l.elements.length))},l.listobj.onPopulate=function(){o(l.elements,l.getElementsObj)},i.onStateChange("loading"),o(l.elements,l.getElementsObj,function(e){i.onStateChange("ready",e)})};return i}function n(e,t,n){function i(e){o.nbrElems=o.lo.listobj.elements.length,o.chunksize=parseInt(o.lo.chunksize)||4,o.nbrForwards=parseInt(o.nbrElems/o.chunksize),o.initcb&&o.initcb()}function r(r){o.lo=new n(r,function(e,t){o.state=e,o.setHeightCB()}),o.nbrElems=o.lo.listobj.elements.length,o.nbrForwards=parseInt(o.nbrElems/2),e.info("nbr elems : "+o.nbrElems),o.back=function(){o.atStart()||o.animating||(o.animating=!0,o.index=0===o.index?0:o.index-1,t.$broadcast("clickback",{dist:o.moveDistance,callback:function(){o.animating=!1}}))},o.forward=function(){o.setHeightCB(),o.atEnd()||o.animating||(o.animating=!0,o.index=o.index===o.nbrForwards?o.nbrForwards:o.index+1,t.$broadcast("clickforward",{dist:o.moveDistance,callback:function(){o.animating=!1}}),o.lo.listobj.appendElements())},o.atStart=function(){return 0===o.index},o.atEnd=function(){return o.index===o.nbrForwards},o.initcb&&o.initcb(),t.$watch(function(e){return o.lo.listobj.elements.length},function(t,n){t&&(e.info("elements changed: "+o.lo.listobj.elements.length),i(t))})}var o=this;o.lo={},o.atStart=null,o.atEnd=null,o.frameHeight=0,o.moveDistance=0,o.nbrForwards=100,o.chunksize=4,o.index=0,o.initcb=null,o.setHeightCB=null,o.animating=!1,o.state="init",o.register=function(e,t){o.initcb=e,o.setHeightCB=t},o.callinit=function(){o.initcb()},o.initialiseHeight=function(e,t){o.chunksize=o.lo.chunksize||4,o.frameHeight=o.chunksize*e,o.moveDistance=parseInt(o.frameHeight/2),t(o.frameHeight)},o.didMouseWheelUp=function(e){o.back()},o.didMouseWheelDown=function(e){o.forward()},t.$watch(function(e){return o.obj},function(e,t){e&&r(e)})}function i(e,t){function n(e,n,i,r){function o(){l=angular.element(n[0].querySelector(".list-viewer-elements")),s=l.find("ul"),a=s.find("li");var e=a.first().height();r.initialiseHeight(e,function(e){l.css({height:e+"px"})})}var l=angular.element(n[0].querySelector(".list-viewer-elements")),a=null,s=null;e.$on("clickback",function(e,t){s.velocity({top:"+="+t.dist},400,function(){t.callback()})}),e.$on("clickforward",function(e,t){s.velocity({top:"-="+t.dist},400,function(){t.callback()})}),e.$on("adjustOffsetFromLeft",function(e,t){s.css({left:"+="+t})}),r.register(function(){t(function(){o()})},function(){o()})}var i={restrict:"E",scope:{},controller:"ListViewerCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/list-viewer/_list-viewer-tpl.html",link:n};return i}n.$inject=["$log","$scope","ListViewerCtrlObj"],e.$inject=["$log","ListViewerObj"],t.$inject=["$q","$log","ListViewerElemObj"],
i.$inject=["$log","$timeout"],angular.module("jawboneApp").factory("ListViewerCtrlObj",e).factory("ListViewerObj",t).controller("ListViewerCtrl",n).directive("listviewer",i)}(),function(){"use strict";function e(e){var t=function(e){var t=this;t.data=e||{},t.message="hello there"};return t}function t(e,t,n){var i=this;i.o=null,t.$watch(function(e){return i.obj},function(e,t){e&&(i.o=e)})}function n(e){var t={restrict:"E",scope:{},controller:"HeaderBarCtrl",controllerAs:"ctrl",bindToController:{tpl:"=",obj:"="},template:"<div ng-include='ctrl.obj.headerbar'></div>"};return t}t.$inject=["$log","$scope","HeaderBarObj"],e.$inject=["$log"],n.$inject=["$log"],angular.module("jawboneApp").factory("HeaderBarObj",e).controller("HeaderBarCtrl",t).directive("headerBar",n)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{}};return t}function t(e,t,n){var i=function(e,t){function r(e,t){var n=new i(e.endpoint,e.params),r=n.params.offset||0,o=parseInt(r+t);return o=o<0?0:o,o=o<e.params.total?o:e.params.total,n.params.offset=o,n}function o(e,t){e.params.total=t.data.total}var l=this;l.endpoint=e||"",l.params={};var a=t||{};l.params.max=a.max||4,l.params.offset=a.offset||0,l.params.sortBy=a.sortBy||"id",l.params.total=a.total||0,l.get=function(){return n.get(l.endpoint,{params:l.params}).then(function(e){return o(l,e),e.data})["catch"](function(e){return e})},l.next=function(){return r(l,l.params.max)},l.prev=function(){return r(l,-l.params.max)},l.more=function(){return l.params.offset<l.params.total}};return i}function n(e,t,n,i,r){function o(e){k=e}function l(){var e=t.defer();return e.resolve(k),e.promise}function a(e){C.push(e)}function s(e){angular.forEach(C,function(t){t(e)},C)}function c(t){return n.get("/users/"+t).then(function(e){return e.data})["catch"](function(t){e.info("error getting user: "+JSON.stringify(t))})}function p(e,t){var n=t||"me";return"/"+e+"/"+n}function u(e,t,n){return"/"+e+"/"+t+"/"+n}function d(e,t){var n=t||{};return n.max=n.max||4,n.offset=n.offset||0,n.sortBy=n.sortBy||"id",new r(e,n)}function f(){var e=t.defer(),i={max:8,offset:0,sortBy:"first"};return n.get("/users",{params:i}).then(function(t){e.resolve(t.data.data)})["catch"](function(t){e.reject(t)}),e.promise}function m(t){return n.post("/notes",t).then(function(e){return e})["catch"](function(t){e.info("error creating note: "+JSON.stringify(t))})}function g(t){return n.put("/notes/"+t._id,t).then(function(e){return e})["catch"](function(t){e.info("error updating note: "+JSON.stringify(t))})}function h(t){return n["delete"]("/notes/"+t._id).then(function(e){return e})["catch"](function(t){e.info("error deleting note: "+JSON.stringify(t))})}function v(t,n){return"trends"===t?b(n):"profile"===t?j(n):"sleeps"===t?w(n):"groups"===t?$(n):"userImage"===t?y(n):(e.info("jawbone service: call to extract unknown data: "+t),{})}function b(e){var t=e.jbdata||{},n=t.profile||{},i=n[3]||{};return i}function j(e){return e.profile||{}}function w(e){var t=e.jbdata||{},n=t.activities||{},i=n[2]||[];return i.items}function $(t){return e.info("groups from user: "+JSON.stringify(t)),t.groups}function y(t){var n=t.profile||{};return n.img?"https://jawbone.com/"+n.img:(e.info("no image found - return null"),null)}var k=null,C=[],S={init:o,getMainUser:l,getUser:c,getUsers:f,makeEndpoint:p,makeFieldGetter:u,makeBatch:d,setUserCallback:a,setUser:s,extractData:v,createNote:m,updateNote:g,deleteNote:h};return S}e.$inject=["$log"],t.$inject=["$log","$q","$http"],n.$inject=["$log","$q","$http","JawboneDataObj","BatchObj"],angular.module("jawboneApp").factory("JawboneDataObj",e).factory("BatchObj",t).factory("JawboneService",n)}(),function(){"use strict";function e(e){return function(e,t){return"hrs-mins"===t?parseInt(e/60)+"h "+parseInt(e%60)+"m":e}}function t(e){return function(e,t){var n=e.toString();if(8!==n.length)return n;var i=n.slice(0,4),r=n.slice(4,6),o=n.slice(6,8);return o+"/"+r+"/"+i}}t.$inject=["$log"],e.$inject=["$log"],angular.module("jawboneApp").filter("minutesConverter",e).filter("jbDate",t)}(),function(){"use strict";function e(){}angular.module("run").run(e)}(),function(){"use strict"}(),function(){"use strict";angular.module("constants")}(),function(){"use strict";function e(e,t,n){console.info("set up Cors access"),t.debugEnabled(!0)}e.$inject=["$httpProvider","$logProvider","$locationProvider"],angular.module("config").config(e)}(),function(){"use strict";function e(e){return function(e){return e?e:"assets/group.png"}}function t(e,t,n){e.groupSummary=new n(t),e.groupSummary.parent={switchView:function(){e.mode="view"},addPatient:function(){c.info("implement add patient"),u.onClick({tpl:"app/patient/_patient-notes-viewer-tpl.html"}).then(function(e){})},removePatients:function(){c.info("implement remove patients")},clickedOther:function(){c.info("user clicked other")}}}function n(e,n,i,r,o){e.mode="view",e.groupViewer.onSelect=function(o){e.groupViewer.listobj.state.deleteMode||(e.patients=new i(n,o.data),t(e,o.data,r),e.mode="edit")},e.groupViewer.onEvent=function(e,t){var n=d.defer();switch(e){case"delete":n.resolve(!0)}return n.promise}}function i(e){e.groupViewer.listobj.headerbar="app/groups/_group-header-bar-tpl.html",e.groupViewer.listobj.headerFtns={createGroup:function(){c.info("implement create group ftn"),u.onClick({tpl:"app/patient/_patient-notes-viewer-tpl.html"}).then(function(e){})},deleteGroups:function(){c.info("implement delete groups ftn"),e.groupViewer.listobj.baseFtns.deselectAll(),e.groupViewer.listobj.state.deleteMode=!e.groupViewer.listobj.state.deleteMode,e.groupViewer.listobj.baseFtns.propagateEvent("deleteMode",null)},clickElsewhere:function(){c.info("clicked the elsewhere...")}}}function r(e,t){e.groupViewer.listobj={},e.groupViewer.listobj.state={deleteMode:!1},e.groupViewer.listobj.template="app/groups/_group-element-tpl.html",e.groupViewer.listobj.heading="Groups",e.groupViewer.listobj.loaderMessage="Loading Groups...",e.groupViewer.listobj.getElementsObj=p.makeBatch(p.makeEndpoint("groups")),e.groupViewer.listobj.makeElement=function(e){return new t(e)}}function o(e,t,o,l,a,s,f,m){var g=function(g){var h=this;h.profile=l.extractData("profile",g),h.name=h.profile.first+" "+h.profile.last,h.groups=l.extractData("groups",g),h.elems=h.groups||[],h.mode="view",c=t,p=l,u=m,d=e,h.groupSummary={},h.groupViewer={},h.patientViewer={},t.info("build the groups component.........."),n(h,g,a,f,s),r(h,o),i(h)};return g}function l(e,t){var n=function(n){this.data=n||{},e.info("group data: "+JSON.stringify(n)),this.name=n.name||"blank",this.description=n.description||"blank",this.size=n.members.length||0,this.api=new t(this)};return n}function a(e){}function s(e){var t={restrict:"E",scope:{},controller:"GroupCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/groups/_group-mgr-tpl.html"};return t}o.$inject=["$q","$log","GroupObj","JawboneService","GroupsPatientsBuilder","PatientsComponentBuilder","GroupSummObj","ModalService"],l.$inject=["$log","ListElementAPIObj"],e.$inject=["$log"],a.$inject=["$log"],s.$inject=["$log"],angular.module("jawboneApp").factory("GroupsComponentBuilder",o).factory("GroupObj",l).filter("defaultGroup",e).controller("GroupCtrl",a).directive("groupMgr",s);var c=null,p=null,u=null,d=null}(),function(){"use strict";function e(){var e=function(e){var t=this;t.actionBar=e.tpl||"app/groups/_group-summary-action-bar-tpl.html",t.group=e||{}};return e}function t(e,t){var n=this;e.$watch(function(e){return n.obj},function(e,i){e&&(t.info("assign patient summ obj : "+JSON.stringify(e)),n.pso=n.obj)})}function n(){var e={restrict:"E",scope:{},controller:"GroupSummCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/groups/_group-summary-tpl.html"};return e}t.$inject=["$scope","$log"],angular.module("jawboneApp").factory("GroupSummObj",e).controller("GroupSummCtrl",t).directive("groupSummary",n)}(),function(){"use strict";function e(e){e.patientViewer.listobj.headerbar="app/groups/_group-patients-action-bar-tpl.html",e.patientViewer.listobj.headerFtns={addPatientToGroup:function(){n.info("implement add patient to group ftn"),r.onClick({tpl:"app/patient/_patient-notes-viewer-tpl.html"}).then(function(e){})},removePatientFromGroup:function(){n.info("implement remove patient from group ftn")}}}function t(t,l,a,s,c){var p=function(p,u){var d=this;return o=t,n=l,i=a,r=s,d=new c(p,u),n.info("obj: "+JSON.stringify(d)),n.info("now build the patients group action bar..."),e(d),d};return p}t.$inject=["$q","$log","JawboneService","ModalService","PatientsComponentBuilder"],angular.module("jawboneApp").factory("GroupsPatientsBuilder",t);var n=null,i=null,r=null,o=null}(),function(){"use strict";function e(e,t){var n=function(){};return n.build=function(e){return new t(e)},n}function t(e){var t=function(t){e.info("data: "+JSON.stringify(t)),this.data=t||{},this.moveSteps=t.move_steps||0,this.sleepTotal=t.sleep_total||0,this.remaining=t.remaining_for_day||{},this.sleepRem=this.remaining.sleep_seconds_remaining||0,this.intakeCaloriesRem=this.remaining.intake_calories_remaining||0,this.moveStepsRem=this.remaining.move_steps_remaining||0};return t}function n(e,t,n){var i=this;t.$watch(function(e){return i.obj},function(t,r){e.info("get here?"),t&&(i.go=new n(t),e.info("sleep rem: "+i.go.sleepRem))})}function i(e){var t={restrict:"E",scope:{},controller:"GoalsCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/goals/_goals-tpl.html"};return t}n.$inject=["$log","$scope","GoalsObj"],e.$inject=["$log","GoalsObj"],t.$inject=["$log"],i.$inject=["$log"],angular.module("jawboneApp").factory("GoalsComponentBuilder",e).factory("GoalsObj",t).controller("GoalsCtrl",n).directive("goals",i)}(),function(){"use strict";function e(e,t,n,i,r){console.log("ran gateway config"),t.debugEnabled(!0),r.when("/?code","profile.user"),r.otherwise(function(e,t){var n=e.get("$state");n.go("gateway.home")}),i.state("gateway",{"abstract":!0,templateUrl:"app/gateway/gateway-main.html",controller:"GatewayCtrl",controllerAs:"gateway"}).state("gateway.home",{url:"home",templateUrl:"app/gateway/home.html"}).state("gateway.about",{url:"about",templateUrl:"app/gateway/about.html"})}function t(e,t){e.info("we did execute the run block of gateway app")}e.$inject=["$httpProvider","$logProvider","$locationProvider","$stateProvider","$urlRouterProvider"],t.$inject=["$log","JawboneService"],angular.module("jawboneGatewayApp").config(e).run(t)}(),function(){"use strict";function e(e,t,n,i,r){var o=this;o.val={text:"Hey ho lets go!"},o.download=function(e){var t=new r([e],{type:"text/plain;charset=utf-8"});i.saveAs(t,"text.txt")},o.mode="patient",o.loginUser="/login/user",o.loginSuperUser="/login/superuser",o.loginUserMsg="login to view Jawbone data",o.loginSuperUserMsg="login to manage patients",e.info("server message: "+JSON.stringify(n)),o.credentials={email:null,password:null},o.showPatient=function(){e.info("show patient"),o.mode="patient"},o.showTherapist=function(){e.info("show therapist"),o.mode="therapist"},o.getLogin=function(){return"patient"===o.mode?o.loginUser:o.loginSuperUser},o.getLoginMessage=function(){return"patient"===o.mode?o.loginUserMsg:o.loginSuperUserMsg},e.info("gateway ctrl ran")}e.$inject=["$log","$scope","ServerMessage","FileSaver","Blob"],angular.module("jawboneGatewayApp").controller("GatewayCtrl",e)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{}};return t}function t(e,t,n){var i=this;t.$watch(function(e){return i.obj},function(e,t){e&&(i.fo=new n(i.obj[1]))})}function n(e){var t={restrict:"E",scope:{},controller:"FriendsCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/friends/_friends-tpl.html"};return t}t.$inject=["$log","$scope","FriendsObj"],e.$inject=["$log"],n.$inject=["$log"],angular.module("jawboneApp").factory("FriendsObj",e).controller("FriendsCtrl",t).directive("friends",n)}(),function(){"use strict";function e(e){var t=function(e){var t=this;t.regobj=e||{},t.form=t.regobj.form||{},t.email=t.form.email,t.name="email"};return t}function t(e,t,n){var i=this;i.name="",e.$watch(function(e){return i.obj},function(e,n){e&&(i.name=e.name,t.info("name: "+i.name))})}function n(e){var t={restrict:"E",scope:{},controller:"FormFieldCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/form-utils/_form-input-tpl.html"};return t}function i(e,t,n){var i={restrict:"A",terminal:!0,priority:1e5,link:function(i,r){var o=t(r.attr("dynamic-name"))(i);r.removeAttr("dynamic-name"),r.attr("name",o),n(r)(i),e.info("name "+o)}};return i}function r(e){var t={require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(t,n,i,r){r.$validators.compareTo=function(n){var i=n==t.otherModelValue;return e.info("compare = "+n+" with "+t.otherModelValue+" same: "+i),i},t.$watch("otherModelValue",function(){r.$validate()})}};return t}function o(e){return function(e,t,n){var i=n.backgroundImg;t.css({"background-image":"url("+i+")","background-size":"cover"})}}function l(e,t){var n={restrict:"E",scope:{text:"=",limit:"="},templateUrl:"app/form-utils/_minifier-tpl.html",link:function(e,t,n){e.textLimit=e.limit}};return n}function a(e,t){var n={restrict:"E",scope:{text:"=",limit:"="},templateUrl:"app/form-utils/_expander-tpl.html",link:function(e,t,n){e.textLimit=e.limit,e.expanded=!1,e.expanderClick=function(){e.textLimit===e.limit?(e.textLimit=e.text.length,e.expanded=!0):(e.textLimit=e.limit,e.expanded=!1)}}};return n}function s(e,t,n){var i={restrict:"A",link:function(i,r,o){e.info("RUN CLICK ELSEWHERE");var l=t(o.clickElsewhere),a=function(t){e.info("has delete confirm widget class?: "+r.hasClass("delete-confirm-widget")),e.info("has ng-hide class?: "+r.hasClass("ng-hide"));var n=r[0]!==t.target&&0===r.find(t.target).length;n&&i.$apply(function(){l(i,{})})};n.on("click",a),i.$on("$destroy",function(){n.off("click",a)})}};return i}function c(e,t,n){var i={restrict:"A",link:function(e,i,r){var o=t(r.visibleClickElsewhere),l=function(t){if(!i.hasClass("ng-hide")){var n=i[0]!==t.target&&0===i.find(t.target).length;n&&e.$apply(function(){o(e,{$event:t})})}};n.on("click",l),e.$on("$destroy",function(){n.off("click",l)})}};return i}function p(e){var t={restrict:"A",scope:{},link:function(t,n,i){e.info("MY SIMPLE TEST DIR")}};return t}e.$inject=["$log"],t.$inject=["$scope","$log","FormInputObj"],n.$inject=["$log"],i.$inject=["$log","$parse","$compile"],r.$inject=["$log"],o.$inject=["$log"],l.$inject=["$log","$parse"],a.$inject=["$log","$parse"],s.$inject=["$log","$parse","$document"],c.$inject=["$log","$parse","$document"],p.$inject=["$log"],angular.module("jawboneApp").factory("FormInputObj",e).controller("FormFieldCtrl",t).directive("jbvFormField",n).directive("dynamicName",i).directive("compareTo",r).directive("backgroundImg",o).directive("minifier",l).directive("expander",a).directive("clickElsewhere",s).directive("visibleClickElsewhere",c).directive("testDir",p)}(),function(){"use strict";function e(e,t,n,i,r){var o=function(e){var t=this;t.arg=e||{},t.name=t.arg.name||"text.txt",t.type=t.arg.type||"text/plain;charset=utf-8",t.content=t.arg.content||"blank content",t.download=function(){var e=new i([t.content],{type:t.type});n.saveAs(e,t.name)}};return o}function t(e,t,n){var i=this;i["do"]=null,e.$watch(function(e){return i.obj},function(e,t){e&&(i["do"]=new n(e))})}function n(){var e={restrict:"E",scope:{},controller:"FileDownloadCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/fileHandler/_file-download-tpl.html"};return e}e.$inject=["$q","$log","FileSaver","Blob","JawboneService"],t.$inject=["$scope","$log","FileDownloadObj"],angular.module("jawboneApp").factory("FileDownloadObj",e).controller("FileDownloadCtrl",t).directive("fileDownloader",n)}(),function(){"use strict";function e(e){var t=function(e){e=e||{},this.visible=e.visible||!1,this.headings=e.headings||[]};return t}function t(e,t,n,i){var r=this;r.visible=!1,r.ddobj=r.dropdownObj||new t,e.info("dropdown obj: "+JSON.stringify(r.dropdownObj)),r.show=function(){r.visible=!0},r.onDeselect=function(){r.visible=!1},r.setSelected=function(e){r.ddobj.selectedFilterIdx=e}}function n(e){var t={restrict:"E",scope:{},controller:"ObiDropdownCtrl",controllerAs:"ctrl",bindToController:{dropdownObj:"="},templateUrl:"app/dropdown/_dropdown-tpl.html"};return t}e.$inject=["$log"],t.$inject=["$log","ObiBasicFiltersObject","$rootScope","$scope"],n.$inject=["$log"],angular.module("jawboneApp").factory("ObiDropdownObj",e).controller("ObiDropdownCtrl",t).directive("obiDropdown",n)}(),function(){"use strict";function e(e,t,n){n=n||0;for(var i,r,i=n;i<e.length;i++)if(r=e[i],t(r))return parseInt(i);return-1}function t(e,t,n,i){n=n||Date.prototype.addDays,i=i||1;for(var r=[],o=new Date(e);o<=t;)r.push(new Date(o)),o=n.call(o,i);return r}function n(e){var t=function(){};return t.jawboneToJSDate=function(e){var t=e.toString(),n=t.slice(0,4),i=parseInt(t.slice(4,6))-1,r=t.slice(6,8);return new Date(n,i,r)},t}function i(n,i){function r(e,t){var n=[];angular.forEach(t,function(e){},n)}var o=function(){};return o.createDateRange=t,o.createPlot=function(e,t){var n=[];return angular.forEach(e,function(e){r(e,t)},n),[]},o.createEmpty=function(e,t){var n=t||function(){return 0};return{x:e,y:[n()||0]}},o.addToArray=function(e,t,n,i){var r=e[t].y;r[n]=i},o.printit=function(e){angular.forEach(e,function(e){},e)},o.preparePlot=function(r,l){n.info("plot names: "+JSON.stringify(l));var a=l.plotName||["blank"];a=Array.isArray(a)?a:[a];var s=a;s.unshift("date");var c=[],p=l.range[0],u=l.range[1],d=t(p,u),f=0;return angular.forEach(d,function(e){this.push(o.createEmpty(e))},c),angular.forEach(r,function(t){f=e(d,function(e){var n=i.jawboneToJSDate(t.date);return e.toDateString()===n.toDateString()},f),f!==-1&&o.addToArray(this,f,0,t)},c),{names:s,data:c}},o.appendPlot=function(e,t,n){for(var i=e.data,r=o.preparePlot(t,n),l=r.data,a=0;a<i.length;a++)i[a].y.push(l[a].y[0]);return r.names.shift(),e.names=e.names.concat(r.names),e},o}n.$inject=["$log"],i.$inject=["$log","JawboneChartUtils"],angular.module("jawboneApp").factory("JawboneChartUtils",n).factory("PlotGenerator",i),Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t}}(),function(){"use strict";function e(e,t,n,i,r){var o=function(o,l){var a=this;a.chart=new i(o,l),a.clickFtn=o.clickFtn||function(){t.onClick(new n(function(t){r.getUser(t.data._id).then(function(e){return o.extractFromUser(e)}).then(function(n){e.info("user name: "+JSON.stringify(t.data.profile.first)),a.chart.addCompareData(n.data,t.data.profile),r.setUser(t)})})).then(function(e){})},a.onClick=function(){a.clickFtn()}};return o}function t(e,t){var n=function(n,i){function r(e,t){var n=[];return n.push(e.names),angular.forEach(e.data,function(e){var n=[];n.push(e.x),angular.forEach(e.y,function(e){n.push(s(e,t))},e.y),this.push(n)},n),n}function o(e){for(var t=1;t<e.length;t++){var n=e[t];n[1]||(n[1]=0)}}function l(e,i){a.elements=[],angular.forEach(e,function(e){this.push(n.makeElement(e))},a.elements),n.preprocessElements(a.elements),a.graphData=t.preparePlot(a.elements,i),a.selectPlot(0,a.graphData)}var a=this;a.data=n||{},a.onStateChange=i||function(t){e.info("supply a state change function to ChartObj")},a.chart={},a.chart.type="LineChart",a.chartdata=[],a.chart.options={chartArea:{left:"40",top:"40",width:"60%",height:"75%"},"backgroundColor.fill":"#00ffff",explorer:{actions:["dragToZoom","rightClickToReset"],keepInBounds:!0},hAxis:{title:"date"},vAxis:{title:"minutes",count:60}},a.plots=n.getPlotNames(),a.graphData=[],n.getGraphDataCB=function(){return a.chartdata};var s=n.extract||function(e,t){return 0};a.onStateChange("loading"),n.getElementsObj.get().then(function(e){l(e.data,n.makePlotParams())}),a.selectPlot=function(e,t){t=t||a.graphData,a.selected=a.plots[e],a.chartdata=r(a.graphData,e),o(a.chartdata),a.chart.data=google.visualization.arrayToDataTable(a.chartdata),a.onStateChange("ready")},a.addCompareData=function(e,i){var r=[];angular.forEach(e,function(e){this.push(n.makeElement(e))},r);var o=n.makePlotParams(i);a.graphData=t.appendPlot(a.graphData,r,o),a.selectPlot(0,a.graphData)}};return n}function n(e,t,n,i){function r(){e.info("google chart loaded now"),o.co=new n(o.obj,function(e){o.state=e})}var o=this;o.state="loading",t.$watch(function(e){return o.obj},function(e,t){e&&i.then(r)})}function i(e){var t={restrict:"E",scope:{},controller:"ChartCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/chart/_chart-tpl.html"};return t}n.$inject=["$log","$scope","ChartManager","googleChartApiPromise"],e.$inject=["$log","ModalService","UserSelectorObj","ChartObj","JawboneService"],t.$inject=["$log","PlotGenerator"],i.$inject=["$log"],angular.module("jawboneApp").factory("ChartManager",e).factory("ChartObj",t).controller("ChartCtrl",n).directive("chart",i)}(),angular.module("jbtemplates").run(["$templateCache",function(e){e.put("app/_default-confirm-modal-tpl.html","<h3>{{ctrl.resolveArg.msg}}</h3>"),e.put("app/_default-modal-tpl.html","default modal template"),e.put("app/_modal-frame-tpl.html",'<div class="modal-body" id="modal-body" style="padding: 4px;"><div ng-include="ctrl.template"></div></div><div class="modal-footer" style="padding: 4px; background: rgba(221, 221, 221, 0.3);"><div class="btn-group"><div class="btn btn-default" ng-click="ctrl.cancel()">Cancel</div><div class="btn btn-default" ng-disabled="true">&nbsp;</div><div class="btn btn-default" ng-click="ctrl.ok()">OK</div></div></div>'),e.put("app/main.html",'<div class="container"><div ui-view=""></div></div>'),e.put("app/user.html",'<div class="container"><a href="/login/jawbone">login jawbone</a><div ui-view=""></div></div>'),e.put("app/chart/_chart-tpl.html",'<loader obj="ctrl.co.loaderMessage" ng-show="ctrl.state !== \'ready\'"></loader><div class="chart-area animated" ng-show="ctrl.state === \'ready\'"><div class="chart-header"><span uib-dropdown=""><a class="btn btn-default" uib-dropdown-toggle="">{{ctrl.co.chart.selected || \'select a plot...\'}} <span class="caret"></span></a><ul uib-dropdown-menu=""><li ng-repeat="item in ctrl.co.chart.plots track by $index"><span ng-click="ctrl.co.chart.selectPlot($index)">{{item}}</span></li></ul></span> <span class="btn btn-default" ng-click="ctrl.co.onClick()">compare with</span></div><div class="chart-body"><div class="chart-element"><div google-chart="" chart="ctrl.co.chart.chart" style="height:300px; width:570px; border: 1px solid #fff;"></div></div></div></div>'),e.put("app/dropdown/_default-dropdown-tpl.html",'<span class="glyphicon glyphicon-menu-hamburger obi-default-dropdown-box"></span>'),e.put("app/dropdown/_dropdown-tpl.html",'<div class="obi-dropdown-container" ng-class="{ \'obi-show\': ctrl.visible }" obi-click-elsewhere="ctrl.onDeselect()"><div class="obi-dropdown-display" ng-click="ctrl.show();" ng-class="{ \'clicked\': ctrl.visible }"><span ng-include="ctrl.ddobj.templateUrl"></span></div><div class="obi-dropdown-list"><ul><li ng-repeat="$item in ctrl.ddobj.filters track by $index" ng-click="ctrl.setSelected($index)"><h5 ng-if="ctrl.ddobj.selectedFilterIdx === $index">{{$item}} <small><span class="glyphicon glyphicon-ok"></span></small></h5><h5 ng-if="ctrl.ddobj.selectedFilterIdx !== $index">{{$item}} &nbsp;</h5></li></ul></div></div>'),e.put("app/fileHandler/_file-download-tpl.html",'<textarea class="download-textarea" ng-model="ctrl.do.content" name="textarea" rows="20">\r\n</textarea> <a href="" class="btn btn-primary btn-small" ng-click="ctrl.do.download()">Download</a>'),e.put("app/form-utils/_expander-tpl.html",'<span>{{text | limitTo: textLimit }}</span> <span ng-if="text.length > limit"><a ng-if="expanded" ng-click="expanderClick()" style="font-size: 90%;">...(less)</a> <a ng-if="!expanded" ng-click="expanderClick()" style="font-size: 90%;">...(more)</a></span>'),e.put("app/form-utils/_form-input-tpl.html",'<div class="form-group jbv-form-group" ng-class="{ \'has-error\' : ctrl.fo.email.$invalid && !ctrl.fo.email.$pristine }"><label for="email">Email address:</label> {{ctrl.fo.email | json}}<p>{{ctrl.fo.name}}</p><p>{{ctrl.name}}</p><div class="jbv-input"><p>{{ctrl.fo.name}}</p><input type="email" name="{{ctrl.fo.name}}" class="form-control" id="email" required="" ng-minlength="5" ng-model="ctrl.fo.model.email"><div ng-if="ctrl.fo.email.$valid" class="jbv-input-status-ok"><span class="glyphicon glyphicon-ok ok"></span></div><div ng-if="ctrl.fo.email.$dirty && ctrl.fo.email.$invalid" class="jbv-input-status-bad"><span class="glyphicon glyphicon-remove invalid"></span></div></div><p ng-show="ctrl.fo.email.$invalid && ctrl.fo.email.$touched" class="help-block jbv-input-status-msg">invalid email!</p></div><div class="form-group" ng-class="{ \'has-error\' : registerForm.emailrt.$invalid && !registerForm.emailrt.$pristine }"><label for="email">Confirm Email address:</label> <input type="email" name="emailrt" class="form-control" id="emailrt" compare-to="gateway.credentials.email" ng-model="register.emailrt"><p ng-show="registerForm.emailrt.$invalid && registerForm.emailrt.$touched">Emails do not match!</p></div>'),e.put("app/form-utils/_minifier-tpl.html",'<span>{{text | limitTo: textLimit }}</span> <span ng-if="text.length > limit"><span style="font-size: 90%;">...</span></span>'),e.put("app/friends/_friends-tpl.html","<div><h3>Friends</h3><p>Data: {{ctrl.fo.data | json}}</p></div>"),e.put("app/gateway/about.html","<h4>our about page</h4>"),e.put("app/gateway/gateway-main.html",'<div ui-view=""></div>'),e.put("app/gateway/home.html",'<div id="mainarea"><div id="sidebar"><span class="btn btn-primary-outline" ng-click="gateway.showPatient()" ng-class="{ \'btn-default\' : gateway.mode === \'patient\'}">Patient</span> <span class="btn btn-primary-outline" ng-click="gateway.showTherapist()" ng-class="{ \'btn-default\' : gateway.mode === \'therapist\'}">Therapist</span><hr><div class="panel panel-default" ng-show="gateway.mode === \'patient\' || gateway.mode === \'therapist\'"><div class="panel-heading">{{gateway.getLoginMessage()}}</div><div class="panel-body"><form name="loginForm" class="form-area" action="{{gateway.getLogin()}}" method="post" novalidate=""><div class="form-group"><label for="email">Email address:</label> <input type="email" name="email" class="form-control" id="email"></div><div class="form-group"><label for="pwd">Password:</label> <input type="password" name="password" class="form-control" id="pwd"></div><div class="checkbox"><label><input type="checkbox"> Remember me</label></div><button type="submit" class="btn btn-default">Login</button></form></div></div><div class="panel panel-default" ng-show="gateway.mode === \'patient\'"><div class="panel-heading">or register as a new user</div><div class="panel-body"><form name="registerForm" class="form-area" action="/register/user" method="post" novalidate=""><div class="form-group jbv-form-group" ng-class="{ \'has-error\' : registerForm.email.$invalid && !registerForm.email.$pristine }"><label for="email">Email address:</label><div class="jbv-input"><input type="email" name="email" class="form-control" id="email" required="" ng-minlength="5" ng-model="gateway.credentials.email"><div ng-if="registerForm.email.$touched && registerForm.email.$valid" class="jbv-input-status-ok"><span class="glyphicon glyphicon-ok ok"></span></div><div ng-if="registerForm.email.$touched && registerForm.email.$invalid" class="jbv-input-status-bad"><span class="glyphicon glyphicon-remove invalid"></span></div></div><p ng-show="registerForm.email.$invalid && registerForm.email.$touched" class="help-block jbv-input-status-msg">invalid email!</p></div><div class="form-group jbv-form-group" ng-class="{ \'has-error\' : registerForm.emailrt.$invalid && !registerForm.emailrt.$pristine }"><label for="email">Confirm Email address:</label><div class="jbv-input"><input type="email" name="emailrt" class="form-control" id="emailrt" compare-to="gateway.credentials.email" ng-model="register.emailrt"><div ng-if="registerForm.emailrt.$touched && registerForm.emailrt.$valid" class="jbv-input-status-ok"><span class="glyphicon glyphicon-ok ok"></span></div><div ng-if="registerForm.emailrt.$touched && registerForm.emailrt.$invalid" class="jbv-input-status-bad"><span class="glyphicon glyphicon-remove invalid"></span></div></div><p ng-show="registerForm.emailrt.$invalid && registerForm.emailrt.$touched" class="help-block jbv-input-status-msg">Emails do not match!</p></div><div class="form-group jbv-form-group" ng-class="{ \'has-error\' : registerForm.password.$invalid && registerForm.password.$touched }"><label for="pwd">Password:</label><div class="jbv-input"><input type="password" name="password" class="form-control" id="pwd" ng-model="gateway.credentials.password" ng-minlength="4" ng-maxlength="20"><div ng-if="registerForm.password.$touched && registerForm.password.$valid" class="jbv-input-status-ok"><span class="glyphicon glyphicon-ok ok"></span></div><div ng-if="registerForm.password.$touched && registerForm.password.$invalid" class="jbv-input-status-bad"><span class="glyphicon glyphicon-remove invalid"></span></div></div><p ng-show="registerForm.password.$error.minlength && registerForm.password.$touched" class="help-block jbv-input-status-msg">password is too short.</p><p ng-show="registerForm.password.$error.maxlength" class="help-block jbv-input-status-msg">password is too long.</p></div><div class="form-group jbv-form-group" ng-class="{ \'has-error\' : registerForm.pwdrt.$invalid && !registerForm.pwdrt.$pristine }"><label for="pwdrt">Confirm Password:</label><div class="jbv-input"><input type="password" name="pwdrt" class="form-control" id="pwdrt" compare-to="gateway.credentials.password" ng-model="register.pwdrt"><div ng-if="registerForm.password.$touched && registerForm.pwdrt.$valid" class="jbv-input-status-ok"><span class="glyphicon glyphicon-ok ok"></span></div><div ng-if="registerForm.pwdrt.$touched && registerForm.pwdrt.$invalid" class="jbv-input-status-bad"><span class="glyphicon glyphicon-remove invalid"></span></div></div><p ng-show="registerForm.pwdrt.$invalid && registerForm.pwdrt.$touched" class="help-block jbv-input-status-msg">Passwords do not match!</p></div><button type="submit" class="btn btn-default" ng-disabled="registerForm.$invalid || registerForm.$pristine">Register</button></form></div></div></div><div id="jbv-maincontent"></div></div>'),e.put("app/goals/_goals-tpl.html","<div><h3>Goals</h3><p>Sleep Total: {{ctrl.go.sleepTotal}}</p><p>Move Steps: {{ctrl.go.moveSteps}}</p><p>Sleep Remaining: {{ctrl.go.sleepRem}}</p><p>Intake Calories Remaining: {{ctrl.go.intakeCaloriesRem | number:2}}</p><p>Move Steps Remaining: {{ctrl.go.moveStepsRem}}</p></div>"),e.put("app/groups/_group-element-tpl.html",'<div class="user-list-element" ng-class="{\'active\' : ctrl.obj.element.api.selected, \'deleteMode\' : ctrl.obj.element.api.deleteMode }" ng-click="ctrl.obj.element.api.clickedView()"><img ng-src="assets/group.png" height="100px" width="100px"><div class="user-details"><div class="name">{{ctrl.obj.element.name}}</div><div class="features"><p>{{ctrl.obj.element.description}}</p><p>{{ctrl.obj.element.size}} members</p></div></div><div ng-show="ctrl.obj.element.api.deleteMode" class="delete-widget"><p><span class="glyphicon glyphicon-remove faded-glyph"></span></p></div><div ng-show="ctrl.obj.element.api.confirmDeleteMode" class="delete-confirm-widget slider-anim" visible-click-elsewhere="ctrl.obj.element.api.cancel($event)"><span class="btn btn-default" ng-click="ctrl.obj.element.api.delete($event)">confirm</span> <span class="btn btn-default" ng-click="ctrl.obj.element.api.cancel($event)">cancel</span></div></div>'),e.put("app/groups/_group-header-bar-tpl.html",'<div style="padding: 3px; border-top: 1px solid #ddd;"><div class="btn-group" style="float: right;"><div class="btn btn-default" ng-click="ctrl.obj.listobj.headerFtns.createGroup()"><span class="glyphicon glyphicon-user faded-glyph"></span> create group</div><div class="btn btn-default" ng-click="ctrl.obj.listobj.headerFtns.deleteGroups()"><span class="glyphicon glyphicon-remove faded-glyph"></span> remove groups</div></div><div style="clear: both;"></div></div>'),
e.put("app/groups/_group-mgr-tpl.html",'<div class="patient-area" ng-if=\'ctrl.obj.mode === "view"\'><listviewer obj="ctrl.obj.groupViewer"></listviewer></div><div class="patient-area" ng-if=\'ctrl.obj.mode === "edit"\'><group-summary obj="ctrl.obj.groupSummary"></group-summary><patient-mgr obj="ctrl.obj.patients"></patient-mgr></div>'),e.put("app/groups/_group-patients-action-bar-tpl.html",'<div class="btn-group" style="float: right;"><div class="btn btn-default" ng-click="ctrl.pso.parent.addPatient()"><span class="glyphicon glyphicon-user faded-glyph"></span> add patient to group</div><div class="btn btn-default" ng-click="ctrl.pso.parent.removePatients()"><span class="glyphicon glyphicon-remove faded-glyph"></span> remove patient from group</div></div><div style="clear: both;"></div>'),e.put("app/groups/_group-summary-action-bar-tpl.html",'<div class="btn btn-default" ng-click="ctrl.pso.parent.switchView()" style="float : left;"><span class="glyphicon glyphicon-th-list faded-glyph"></span> back to groups view</div><div class="btn-group" style="float: right;"><div class="btn btn-default" ng-click="ctrl.pso.parent.addPatient()"><span class="glyphicon glyphicon-pencil faded-glyph"></span> edit group</div></div><div style="clear: both;"></div>'),e.put("app/groups/_group-summary-tpl.html",'<div class="patient-header"><div class="patient-info"><img ng-src="{{ctrl.pso.user.profile.image | defaultGroup }}" height="100px" width="100px"><div class="user-details"><div class="name">{{ctrl.pso.group.name}}</div><div class="features"><p>{{ctrl.pso.group.description}}</p><p>{{ctrl.pso.group.members.length}} members</p></div></div></div><hr><div style="clear: both;"></div><div ng-include="ctrl.pso.actionBar"></div></div>'),e.put("app/list-viewer/_default-headerbar-tpl.html",'<div class="trends-header-bar"><span>&nbsp;</span></div>'),e.put("app/list-viewer/_default-lve-tpl.html",'<div class="trends-element-style"><span>default</span></div>'),e.put("app/list-viewer/_list-viewer-tpl.html",'<loader obj="ctrl.lo.listobj.loaderMessage" ng-show="ctrl.state === \'loading\'"></loader><div class="list-view-box animated" ng-show="ctrl.state === \'ready\'"><div class="heading">{{ctrl.lo.listobj.heading}}</div><div class="filter-container" ng-show="ctrl.hasFilter"><input type="text" class="form-control" placeholder="search for..." ng-model="searchtext"></div><p></p><header-bar tpl="ctrl.lo.listobj.headerbar" obj="ctrl.lo.listobj"></header-bar><div id="listviewerbox" class="list-viewer-elements" mouse-wheel-up="ctrl.didMouseWheelUp()" mouse-wheel-down="ctrl.didMouseWheelDown()"><ul><li ng-repeat="elem in ctrl.lo.listobj.elements track by $index"><lvelem tpl="ctrl.lo.listobj.template" obj="elem" i="{{$index}}"></lvelem></li></ul></div><div class="scroll-control" ng-show="ctrl.hasScrollers"><span class="btn btn-default scroll-button" ng-click="ctrl.back()" ng-disabled="ctrl.atStart()"><span class="glyphicon glyphicon-chevron-up"></span></span> <span class="btn btn-default scroll-button" ng-click="ctrl.forward()" ng-disabled="ctrl.atEnd()"><span class="glyphicon glyphicon-chevron-down"></span></span></div></div>'),e.put("app/loaders/_basic-spinner-tpl.html",'<div class="loader"></div>'),e.put("app/loaders/_loader-frame-tpl.html",'<div class="loader-area"><div class="loader-header">{{ctrl.message}}</div><div class="loader-body loader-outer"><div class="loader-inner"><div ng-include="ctrl.loader"></div></div></div></div>'),e.put("app/loaders/_rectangles-tpl.html",'<div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>'),e.put("app/moods/_moods-tpl.html","<div><h3>Moods</h3><p>Data: {{ctrl.mo.data | json}}</p></div>"),e.put("app/moves/_move-tpl.html","<p>date : {{ctrl.mo.date | jbDate}} title : {{ctrl.mo.title}}</p>"),e.put("app/moves/_moves-tpl.html",'<div><h3>Moves</h3><div ng-repeat="elem in ctrl.mo.elements"><move obj="elem"></move></div></div>'),e.put("app/notes-viewer/_notes-element-tpl.html",'<div class="notes-element-style" ng-class="{\'active\' : ctrl.obj.element.selected }"><span>{{ctrl.obj.element.creationDate | date}}</span> <span>{{ctrl.obj.element.owner.profile.first}} {{ctrl.obj.element.owner.profile.last}}</span><div style="clear: both;"></div><span><minifier text="ctrl.obj.element.text" limit="60"></minifier></span><div style="float: right;" class="btn btn-primary-outline glyphicon glyphicon-remove faded-glyph" ng-click="ctrl.obj.element.delete()"></div></div>'),e.put("app/notes-viewer/_notes-header-tpl.html",'<div class="jbv-new-note-hdr"><div class="jbv-new-note-area" ng-if="ctrl.obj.listobj.createMode()"><textarea class="notes-textarea" ng-model="ctrl.obj.listobj.tempnote.text" name="textarea" rows="5" placeholder="create note...">\r\n\t\t</textarea><div style="float: right; margin-right: 14px; padding: 3px;"><div class="btn-group"><div class="btn btn-default" ng-click="ctrl.obj.listobj.cancelNote()" ng-disabled="!ctrl.obj.listobj.tempnote.text">clear</div><div class="btn btn-default" ng-disabled="true">&nbsp;</div><div class="btn btn-default" ng-click="ctrl.obj.listobj.createNote()" ng-disabled="!ctrl.obj.listobj.tempnote.text">save</div></div></div><div style="clear: both;"></div></div><div class="jbv-new-note-area" ng-if="ctrl.obj.listobj.editMode()"><textarea class="notes-textarea" ng-model="ctrl.obj.listobj.tempnote.text" name="textarea" rows="5" placeholder="update note...">\r\n\t\t</textarea><div style="float: right; margin-right: 14px; padding: 3px;"><div class="btn-group"><div class="btn btn-default" ng-click="ctrl.obj.listobj.baseFtns.deselectAll()">cancel</div><div class="btn btn-default" ng-disabled="true">&nbsp;</div><div class="btn btn-default" ng-click="ctrl.obj.listobj.updateNote()" ng-disabled="!ctrl.obj.listobj.tempnote.text">update</div></div></div><div style="clear: both;"></div></div></div>'),e.put("app/notes-viewer/_notes-viewer-tpl.html",'<listviewer obj="ctrl.o.notes"></listviewer>'),e.put("app/patient/_patient-element-tpl.html",'<div class="user-list-element" ng-class="{\'active\' : ctrl.obj.element.selected }" ng-click="ctrl.obj.element.api.clickedView()"><img ng-src="assets/users.png" height="100px" width="100px"><div class="user-details"><div class="name">{{ctrl.obj.element.first}} {{ctrl.obj.element.last}}</div><div class="features"><p>Weight: {{ctrl.obj.element.weight | number: 2}}</p><p>Gender: {{ctrl.obj.element.gender}}</p><p>Height: {{ctrl.obj.element.height}}</p></div></div></div>'),e.put("app/patient/_patient-mgr-tpl.html",'<div class="patient-area" ng-if=\'ctrl.obj.mode === "view"\'><listviewer obj="ctrl.obj.patientViewer"></listviewer></div><div class="patient-area" ng-if=\'ctrl.obj.mode === "edit"\'><patient-summary obj="ctrl.obj.patientSummary"></patient-summary><div ng-if="ctrl.obj.showWindow === true"><h3>show this</h3></div><chart obj="ctrl.obj.sleepsChart"></chart><listviewer obj="ctrl.obj.sleepsViewer"></listviewer><notes-viewer obj="" <="" notes-viewer=""></notes-viewer></div>'),e.put("app/patient/_patient-notes-viewer-tpl.html",'<notes-viewer obj="" <="" notes-viewer=""></notes-viewer>'),e.put("app/patient/_patient-summary-action-bar-tpl.html",'<div class="btn btn-default" ng-click="ctrl.pso.parent.switchView()" style="float : left;"><span class="glyphicon glyphicon-th-list faded-glyph"></span> back to patients view</div><div class="btn-group" style="float: right;"><div class="btn btn-default" ng-click="ctrl.pso.parent.showPatientNotes()"><span class="glyphicon glyphicon-list-alt faded-glyph"></span> show patient notes</div><div class="btn btn-default" ng-click="ctrl.pso.parent.downloadToCSV()"><span class="glyphicon glyphicon-stats faded-glyph"></span> download to csv file</div></div><div style="clear: both;"></div>'),e.put("app/patient/_patient-summary-tpl.html",'<div class="patient-header"><div class="patient-info"><img ng-src="{{ctrl.pso.user.profile.image | defaultPatient }}" height="100px" width="100px"><div class="user-details"><div class="name">{{ctrl.pso.user.profile.first}} {{ctrl.pso.user.profile.last}}</div><div class="features"><p>Weight: {{ctrl.pso.user.profile.weight | number: 2}}</p><p>Gender: {{ctrl.pso.user.profile.gender}}</p><p>Height: {{ctrl.pso.user.profile.height}}</p></div></div></div><hr><div style="clear: both;"></div><div ng-include="ctrl.pso.actionBar"></div></div>'),e.put("app/profile/_sleeps-element-tpl.html",'<div class="trends-element-style">date : {{ctrl.obj.date | jbDate}} title : {{ctrl.obj.title}} sounds : {{ctrl.obj.sounds}} awakenings : {{ctrl.obj.awakenings}} light : {{ctrl.obj.light}}</div>'),e.put("app/profile/friends.html","friends"),e.put("app/profile/moves.html",""),e.put("app/profile/profile-main.html",'<div class="profile-side-bar"><user obj="profile.userprofile"></user><ul><li><a ui-sref="profile.sleeps"><span class="glyphicon glyphicon-bed"></span> Sleeps</a></li><li><a ui-sref="profile.friends"><span class="glyphicon glyphicon-user"></span> Friends</a></li><li><a ui-sref="profile.moves"><span class="glyphicon glyphicon-transfer"></span> Moves</a></li><li><a ui-sref="profile.trends"><span class="glyphicon glyphicon-stats"></span> Trends</a></li></ul></div><div class="profile-main-panel slide-eff" ui-view=""></div>'),e.put("app/profile/sleeps.html",'<chart obj="profile.sleepschart"></chart><listviewer obj="profile.sleeps"></listviewer>'),e.put("app/profile/trends.html",'<chart obj="profile.trendschart"></chart><listviewer obj="profile.trends"></listviewer>'),e.put("app/profile/user.html",""),e.put("app/recent-users/_recent-users-tpl.html",""),e.put("app/side-menu/_side-menu-tpl.html","side menu tempate"),e.put("app/sleeps/_sleeps-chart-download-tpl.html",'<h3>Sleeps Data as CSV</h3><file-downloader obj="ctrl.resolveArg.downloader"></file-downloader>'),e.put("app/sleeps/_sleeps-element-tpl.html","<div class=\"trends-element-style\" ng-class=\"{'active' : ctrl.obj.element.selected }\"><span>{{ctrl.obj.element.date | jbDate}}</span> <span>{{ctrl.obj.element.title | minutesConverter:'hrs-mins'}}</span> <span>{{ctrl.obj.element.sounds}}</span> <span>{{ctrl.obj.element.awakenings}}</span> <span>{{ctrl.obj.element.light}}</span></div>"),e.put("app/sleeps/_sleeps-header-tpl.html",'<div class="trends-header-bar"><span>date</span> <span>duration</span> <span>sounds</span> <span>awakenings</span> <span>light</span></div>'),e.put("app/superuser/groups.html",'<group-mgr obj="profile.groups"></group-mgr>'),e.put("app/superuser/patients.html",'<patient-mgr obj="profile.patients"></patient-mgr>'),e.put("app/superuser/profile-main.html",'<div class="profile-side-bar"><user obj="profile.userprofile"></user><ul><li><a ui-sref="profile.groups"><span class="glyphicon glyphicon-bed"></span> Groups ({{profile.userprofile.profiledata.stats.nbrGroups}})</a></li><li><a ui-sref="profile.patients"><span class="glyphicon glyphicon-user"></span> Patients ({{profile.userprofile.profiledata.stats.nbrPatients | json}})</a></li><li><a ui-sref="profile.moves"><span class="glyphicon glyphicon-transfer"></span> Moves</a></li><li><a ui-sref="profile.trends"><span class="glyphicon glyphicon-stats"></span> Trends</a></li></ul><listviewer obj="profile.recentUsers"></listviewer></div><div class="profile-main-panel slide-eff" ui-view=""></div>'),e.put("app/trends/_trends-element-tpl.html",'<div class="trends-element-style" ng-class="{\'active\' : ctrl.obj.element.selected }"><span>{{ctrl.obj.element.date | jbDate}}</span> <span>{{ctrl.obj.element.weight | number: 2}}</span> <span>{{ctrl.obj.element.height | number: 2}}</span> <span>{{ctrl.obj.element.bmr | number: 2}}</span> <span>{{ctrl.obj.element.totalCalories | number: 2}}</span> <span>{{ctrl.obj.element.age | number: 0}}</span></div>'),e.put("app/trends/_trends-header.html",'<div class="trends-header-bar"><span>date</span> <span>weight</span> <span>height</span> <span>bmr</span> <span>total calories</span> <span>age</span></div>'),e.put("app/user/_default-confirm-modal-tpl.html","confirm modal"),e.put("app/user/_default-modal-tpl.html","default modal template"),e.put("app/user/_default-user-detail-tpl.html","<h5>Weight {{ctrl.uo.profile.weight}}</h5><h5>Gender {{ctrl.uo.profile.gender}}</h5><h5>Height {{ctrl.uo.profile.height}}</h5>"),e.put("app/user/_user-element-tpl.html",'<div class="user-list-element" ng-class="{\'active\' : ctrl.obj.element.selected }"><img ng-src="{{ctrl.uo.profile.image}}" height="100px" width="100px"><div class="user-details"><div class="name">{{ctrl.obj.element.first}} {{ctrl.obj.element.last}}</div><div class="features"><p>Weight: {{ctrl.obj.element.weight | number: 2}}</p><p>Gender: {{ctrl.obj.element.gender}}</p><p>Height: {{ctrl.obj.element.height}}</p></div></div></div>'),e.put("app/user/_user-select-modal-tpl.html",'<listviewer obj="ctrl.resolveArg.userlist"></listviewer>'),e.put("app/user/_user-tpl.html",'<div class="user-outer-box"><div class="img-container" ng-click="ctrl.uo.onClick()"><img ng-src="{{ctrl.uo.profile.image | defaultPatient }}" alt="image" width="200px" height="200px"><p>{{ctrl.uo.profile.first}} {{ctrl.uo.profile.last}}</p></div><div ng-include="\'app/user/_default-user-detail-tpl.html\'"></div></div>')}]);