!function(){"use strict";angular.module("config",[]),angular.module("constants",[]),angular.module("mainRoute",["ui.router"]),angular.module("run",[]),angular.module("jawboneApp",["PreloadedData","config","constants","mainRoute","run","ngAnimate","ngSanitize","ui.bootstrap","googlechart"])}(),function(){"use strict";function e(e,t,n){t.selectedUser=null,t.onSelect=function(r){t.selectedUser=r,e.info("selected de user: "+JSON.stringify(t.selectedUser)),n.onSelect(t.selectedUser)},t.onConfirm=function(){e.info("user yah confirm it : "+JSON.stringify(t.selectedUser)),n.onConfirm()}}function t(e,t,n,r){t.listobj={},t.listobj.template="app/user/_user-element-tpl.html",t.listobj.heading="Users",t.listobj.getElements=function(){return n().then(function(t){return e.info("return dat result: "+JSON.stringify(t)),t},function(e){return[]})},t.listobj.makeElement=function(e){return new r(e)}}function n(n,r){var i=function(i,o){var l=this;e(n,l,o),t(n,l,i,r)};return i}function r(e,t){var n=function(e,n){var r=this;r.tpl="app/user/_user-select-modal-tpl.html",r.selection=null,r.onSelect=function(e){r.selection=e},r.onConfirm=function(){n&&n(r.selection)},r.callbacks={onSelect:r.onSelect,onConfirm:r.onConfirm},r.userlist=new t(e,r.callbacks)};return n}function i(e,t,n,r,i){var o=function(o,l){var a=this;a.profiledata=o||{},a.profile=new t(a.profiledata),a.clickFtn=o.clickFtn||function(){n.onClick(new r(l,function(e){i.setUser(e)})).then(function(t){e.info("result of modal: "+JSON.stringify(t))})},a.onClick=function(){a.clickFtn()}};return o}function o(e){var t=function(e){var t=this;t.data=e||{},t.jawboneId=e.jawboneId||"blank",t.obj=e.profile||{},t.first=t.obj.first||"blank",t.last=t.obj.last||"blank",t.weight=t.obj.weight||"blank weight",t.gender=t.obj.gender||"no gender",t.height=t.obj.height||"no height",t.selected=!1,t.activated=function(){t.selected=!0},t.deactivated=function(){t.selected=!1}};return t}function l(e,t,n,r,i){var o=this;i.$watch(function(e){return o.obj},function(e,t){e&&(o.uo=o.obj)})}function a(e){var t={restrict:"E",scope:{},controller:"UserCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/user/_user-tpl.html"};return t}l.$inject=["$q","$log","$http","$window","$scope"],n.$inject=["$log","UserObj"],r.$inject=["$log","UsersComponentBuilder"],i.$inject=["$log","UserObj","ModalService","UserSelectorObj","JawboneService"],o.$inject=["$log"],a.$inject=["$log"],angular.module("jawboneApp").factory("UsersComponentBuilder",n).factory("UserSelectorObj",r).factory("UserComp",i).factory("UserObj",o).controller("UserCtrl",l).directive("user",a)}(),function(){"use strict";function e(e,t,n){t.selectedTrend=null,t.onSelect=function(e){t.selectedTrend=e},t.onConfirm=function(){e.info("trends: yah confirm it")}}function t(e,t,n,r,i){n.listobj={},n.listobj.template="app/trends/_trends-element-tpl.html",n.listobj.headerbar="app/trends/_trends-header.html",n.listobj.heading="Trends",n.listobj.getElements=function(){var t=e.defer();return t.resolve(r.data||[]),t.promise},n.listobj.makeElement=function(e){return new i(e)}}function n(n,r,i){var o=function(o){var l=this;e(r,l,o),t(n,r,l,o,i)};return o}function r(e){var t=function(e){this.data=e||[],this.date=e[0]||new Date,this.details=e[1]||{},this.weight=this.details.weight||null,this.height=this.details.height||null,this.bmr=this.details.bmr||0,this.totalCalories=this.details.m_total_calories||0,this.age=this.details.age||0;var t=this;t.selected=!1,this.activated=function(){t.selected=!0},this.deactivated=function(){t.selected=!1}};return t}n.$inject=["$q","$log","TrendObj"],r.$inject=["$log"],angular.module("jawboneApp").factory("TrendsComponentBuilder",n).factory("TrendObj",r)}(),function(){"use strict";function e(e,t,n,r){var i=function(t){function i(e,t){return Math.random()*(t-e)+e}var o=this;o.profile=r.extractData("profile",t),o.name=o.profile.first+" "+o.profile.last,o.trends=r.extractData("trends",t),o.earliest=o.trends.earliest||new Date,o.elems=o.trends.data||[],o.elements=[],o.getElements=function(t){var n=e.defer();return n.resolve(t||o.elems),n.promise},o.makeElement=function(e){return new n(e)},o.getPlotNames=function(){return["weight","height","bmr","totalCalories"]},o.title="Trends",o.doNewTest=function(){PlotGenerator.testit(o.elements)},o.extractFromUser=function(e){var t=o.elems.slice();return angular.forEach(t,function(e){e[1].weight=i(50,100)},t),t},o.extract=function(e,t){var n=o.getPlotNames();return e[n[t]]}};return i}e.$inject=["$q","$log","TrendObj","JawboneService"],angular.module("jawboneApp").factory("TrendsChartBuilderObj",e)}(),function(){"use strict";function e(e,t,n){t.selectedSleep=null,t.onSelect=function(e){t.selectedSleep=e},t.onConfirm=function(){e.info("sleep: yah confirm it")}}function t(e,t,n,r,i){t.info("sleeps data: "+JSON.stringify(r)),n.listobj={},n.listobj.template="app/sleeps/_sleeps-element-tpl.html",n.listobj.headerbar="app/sleeps/_sleeps-header-tpl.html",n.listobj.heading="Sleeps",n.listobj.getElements=function(){var t=e.defer();return t.resolve(r||[]),t.promise},n.listobj.makeElement=function(e){return new i(e)}}function n(n,r,i){var o=function(o){var l=this;e(r,l,o),t(n,r,l,o,i)};return o}function r(e,t){e=e.toString();var n=e.match(/\d+/g);return 2===n.length?60*parseInt(n[0])+parseInt(n[1]):e}function i(e){var t=function(t){this.data=t||{},e.info("sleep data: "+JSON.stringify(t)),this.date=t.date||new Date,this.title=r(t.title,e),this.details=t.details||{},this.sounds=this.details.sound||"blank",this.awakenings=this.details.awakenings||0,this.light=this.details.light||0,this.sleep_time=this.details.sleep_time||0,this.awake_time=this.details.awake_time||0,this.awake=this.details.awake||0,this.rem=this.details.rem||0,this.duration=this.details.duration||0,this.image="https://jawbone.com"+this.data.snapshot_image;var n=this;n.selected=!1,n.activated=function(){n.selected=!0},n.deactivated=function(){n.selected=!1}};return t}n.$inject=["$q","$log","SleepObj"],i.$inject=["$log"],angular.module("jawboneApp").factory("SleepsComponentBuilder",n).factory("SleepObj",i)}(),function(){"use strict";function e(e,t,n,r){var i=function(t){function i(e,t){return Math.random()*(t-e)+e}var o=this;o.profile=r.extractData("profile",t),o.name=o.profile.first+" "+o.profile.last,o.elems=r.extractData("sleeps",t),o.elements=[],o.getElements=function(t){var n=e.defer();return n.resolve(t||o.elems),n.promise},o.makeElement=function(e){return new n(e)},o.getPlotNames=function(){return["title","sounds","awakenings","light"]},o.title="Sleeps",o.doNewTest=function(){PlotGenerator.testit(o.elements)},o.extractFromUser=function(e){var t=o.elems.slice();return angular.forEach(t,function(e){e.title=i(50,100)},t),t},o.extract=function(e,t){var n=o.getPlotNames();n[t];return e[n[t]]}};return i}e.$inject=["$q","$log","SleepObj","JawboneService"],angular.module("jawboneApp").factory("SleepsChartBuilderObj",e)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{}};return t}function t(e,t,n){var r=this;t.$watch(function(e){return r.obj},function(e,t){e&&(r.smo=new n(r.obj))})}function n(e){var t={restrict:"E",scope:{},controller:"SideMenuCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/side-menu/_side-menu-tpl.html"};return t}t.$inject=["$log","$scope","SideMenuObj"],e.$inject=["$log"],n.$inject=["$log"],angular.module("jawboneApp").factory("SideMenuObj",e).controller("SideMenuCtrl",t).directive("sideMenu",n)}(),function(){"use strict";function e(e,t,n,r){var i=function(i,o){function l(e){t.info("recent-user obj new user selected: "+JSON.stringify(e.data)),a.recentUsers.push(e.data),a.listobj.onPopulate()}var a=this;a.data=i||{},a.recentUsers=[],n.setUserCallback(l),a.listobj=a.listobj||{},a.listobj.heading="Recent Users",a.listobj.template=a.listobj.template||"app/user/_user-element-tpl.html",a.listobj.chunksize=a.listobj.chunksize||1,a.listobj.getElements=function(){var t=e.defer();return t.resolve(a.recentUsers),t.promise},a.listobj.makeElement=function(e){return new r(e)}};return i}e.$inject=["$q","$log","JawboneService","UserObj"],angular.module("jawboneApp").factory("RecentUsersObj",e)}(),function(){"use strict";function e(e,t,n,r){function i(){n.getMainUser().then(function(e){return n.getUser(e.jawboneId)}).then(function(e){return r.build(e,n.getUsers)}).then(function(e){l.sleeps=e.sleeps,l.sleepschart=e.sleepschart,l.trends=e.trends,l.trendschart=e.trendschart,l.userprofile=e.userprofile,l.recentUsers=e.recentUsers})["catch"](function(t){e.info("error intialising profile ctrl: "+JSON.stringify(t))})}function o(t){e.info("new user selected: "+JSON.stringify(t))}var l=this;l.users=null,l.sleeps=null,l.trends=null,i(),n.setUserCallback(o)}e.$inject=["$log","$scope","JawboneService","ProfileComponentBuilder"],angular.module("jawboneApp").controller("ProfileCtrl",e)}(),function(){"use strict";function e(e,t,n,r,i,o,l){var a=function(){};return a.build=function(t,r){var i=e.defer(),o=new n(t,r);return i.resolve(o),i.promise},a}function t(e,t,n,r,i,o,l){var a=function(e,a){var s=this;s.user=e||{},s.jbdata=s.user.jbdata,s.sleeps=new t(s.jbdata.activities[2].items),s.sleepschart=new i(s.user),s.trends=new n(s.jbdata.profile[3]),s.trendschart=new r(s.user),s.userprofile=new o(e,a),s.recentUsers=new l(e,a)};return a}e.$inject=["$q","$log","ProfileObj","JawboneService","GoalsComponentBuilder","ListViewerCtrlObj","UsersComponentBuilder"],t.$inject=["$log","SleepsComponentBuilder","TrendsComponentBuilder","TrendsChartBuilderObj","SleepsChartBuilderObj","UserComp","RecentUsersObj"],angular.module("jawboneApp").factory("ProfileComponentBuilder",e).factory("ProfileObj",t)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{},this.elements=e.items||[]};return t}function t(e,t,n){var r=this;t.$watch(function(e){return r.obj},function(e,t){e&&(r.mo=new n(r.obj))})}function n(e){var t={restrict:"E",scope:{},controller:"MovesCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/moves/_moves-tpl.html"};return t}function r(e){var t=function(e){this.data=e||{},this.date=e.date||new Date,this.title=e.title||"blank"};return t}function i(e,t,n,r,i){var o=this;o.mo=new i(o.obj)}function o(e){var t={restrict:"E",scope:{},controller:"MoveCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/moves/_move-tpl.html"};return t}t.$inject=["$log","$scope","MovesObj"],i.$inject=["$q","$log","$http","$window","MoveObj"],e.$inject=["$log"],n.$inject=["$log"],r.$inject=["$log"],o.$inject=["$log"],angular.module("jawboneApp").factory("MovesObj",e).controller("MovesCtrl",t).directive("moves",n).factory("MoveObj",r).controller("MoveCtrl",i).directive("move",o)}(),function(){"use strict";function e(e){function t(e,t,n){t.bind("DOMMouseScroll mousewheel onmousewheel",function(t){var r=window.event||t;r=r.originalEvent;var i=r.wheelDelta||-r.detail;i<0&&(e.$apply(function(){e.$eval(n.mouseWheelDown)}),t.returnValue=!1,t.preventDefault&&t.preventDefault())})}var n={link:t};return n}function t(e){function t(e,t,n){t.bind("DOMMouseScroll mousewheel onmousewheel",function(t){var r=window.event||t;r=r.originalEvent;var i=r.wheelDelta||-r.detail;i>0&&(e.$apply(function(){e.$eval(n.mouseWheelUp)}),t.returnValue=!1,t.preventDefault&&t.preventDefault())})}var n={link:t};return n}e.$inject=["$log"],t.$inject=["$log"],angular.module("jawboneApp").directive("mouseWheelDown",e).directive("mouseWheelUp",t)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{}};return t}function t(e,t,n){var r=this;t.$watch(function(e){return r.obj},function(e,t){e&&(r.mo=new n(r.obj[2]))})}function n(e){var t={restrict:"E",scope:{},controller:"MoodsCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/moods/_moods-tpl.html"};return t}t.$inject=["$log","$scope","MoodsObj"],e.$inject=["$log"],n.$inject=["$log"],angular.module("jawboneApp").factory("MoodsObj",e).controller("MoodsCtrl",t).directive("moods",n)}(),function(){"use strict";function e(e,t,n){var r=this;r.resolveArg=e,r.template=e.tpl||"app/_default-modal-tpl.html",r.ok=function(){t.close(r.resolveArg)},r.cancel=function(){t.dismiss(r.resolveArg)}}function t(e,t,n){function r(){}function i(r){e.info("params: "+JSON.stringify(r));var i=r||{},o=i.ctrl||"DefaultModalInstanceCtrl",l=i.size||"md";i.tpl=i.tpl||"app/_default-modal-tpl.html",i.onConfirm=i.onConfirm||function(){e.info("supply on confirm ftn")},i.onDismiss=i.onDismiss||function(){e.info("supply on dismiss ftn")};var a=t.defer(),s=n.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/_modal-frame-tpl.html",controller:o,controllerAs:"ctrl",size:l,resolve:{resolveArg:function(){return i}}});return s.result.then(function(e){e.onConfirm(),a.resolve(e)},function(e){e.onDismiss(),a.resolve(e)}),a.promise}var o={init:r,onClick:i};return o}e.$inject=["resolveArg","$uibModalInstance","$log"],t.$inject=["$log","$q","$uibModal"],angular.module("jawboneApp").controller("DefaultModalInstanceCtrl",e).factory("ModalService",t)}(),function(){"use strict";function e(e){var t=function(t,n){this.data=n||{},this.template=n.template||"app/list-viewer/_default-lve-tpl.html",this.parent=parent||{},this.element=n,this.activated=n.activated||function(){e.info("default activated function")},this.deactivated=n.deactivated||function(){e.info("default deactivated function")},this.onClick=function(e){this.activated(),t(e)},this.onDeselected=function(){this.deactivated()}};return t}function t(e,t,n){}function n(e,t){var n={restrict:"E",scope:{},controller:"ListViewerElemCtrl",controllerAs:"ctrl",bindToController:{tpl:"=",obj:"=",i:"@"},template:"<div ng-include='ctrl.tpl' ng-click='ctrl.obj.onClick(ctrl.i)'></div>"};return n}t.$inject=["$log","$scope","ListViewerElemObj"],e.$inject=["$log"],n.$inject=["$log","$timeout"],angular.module("jawboneApp").factory("ListViewerElemObj",e).controller("ListViewerElemCtrl",t).directive("lvelem",n)}(),function(){"use strict";function e(e,t){var n=function(n){var r=this;r.onSelect=n.onSelect||function(t){e.info("selected: "+JSON.stringify(t))},r.onConfirm=n.onConfirm||function(){e.info("on confirm selection")},r.listobj=new t(n)};return n}function t(e,t){var n=function(n){function r(){i.getElements().then(function(e){angular.forEach(e,function(e){var n=i.makeElement(e);this.push(new t(i.notifyClicked,n))},i.elements)})["catch"](function(t){e.info("error getting elements: "+t)})}var i=this;i.listobj=n.listobj||{},i.heading=n.listobj.heading||"blank",i.headerbar=n.listobj.headerbar||"app/list-viewer/_default-headerbar-tpl.html",i.template=n.listobj.template||"app/list-viewer/_default-lve-tpl.html",i.chunksize=n.listobj.chunksize||4,i.getElements=i.listobj.getElements||function(){return[]},i.makeElement=i.listobj.makeElement||function(t){return e.info("supply a make element function"),{}},i.onSelect=n.onSelect||function(){e.info("supply on select function")},i.elements=[],i.selected=-1,i.notifyClicked=function(e){i.selected!==-1&&i.selected<i.elements.length&&i.elements[i.selected].onDeselected(),i.selected!==e?(i.selected=e,i.onSelect(i.elements[i.selected].element)):i.selected=-1},i.listobj.onPopulate=function(){r()},r()};return n}function n(e,t,n){function r(e){o.nbrElems=o.lo.listobj.elements.length,o.nbrForwards=parseInt(o.nbrElems/2),o.initcb&&o.initcb()}function i(i){o.lo=new n(i),o.nbrElems=o.lo.listobj.elements.length,o.nbrForwards=parseInt(o.nbrElems/2),o.back=function(){o.atStart()||(o.index=0===o.index?0:o.index-1,t.$broadcast("clickback",o.moveDistance))},o.forward=function(){o.atEnd()||(o.index=o.index===o.nbrForwards?o.nbrForwards:o.index+1,t.$broadcast("clickforward",o.moveDistance))},o.atStart=function(){return 0===o.index},o.atEnd=function(){return o.index===o.nbrForwards},o.initcb&&o.initcb(),t.$watch(function(e){return o.lo.listobj.elements.length},function(t,n){t&&(e.info("elements changed: "+o.lo.listobj.elements.length),r(t))})}var o=this;o.lo={},o.atStart=null,o.atEnd=null,o.frameHeight=0,o.moveDistance=0,o.nbrForwards=100,o.index=0,o.initcb=null,o.register=function(e){o.initcb=e},o.initialiseHeight=function(e){var t=o.lo.chunksize||4;o.frameHeight=t*e,o.moveDistance=parseInt(o.frameHeight/2),o.index=0},o.getFrameHeight=function(){return o.frameHeight},o.didMouseWheelUp=function(e){o.back()},o.didMouseWheelDown=function(e){o.forward()},t.$watch(function(e){return o.obj},function(e,t){e&&i(e)})}function r(e,t){function n(n,r,i,o){function l(){a=angular.element(r[0].querySelector(".list-viewer-elements")),c=a.find("ul"),s=c.find("li");var t=s.first().height();o.initialiseHeight(t);var n=o.getFrameHeight();e.info("new init height of list element : "+t+" frame height: "+n),a.css({height:n+"px"})}var a=angular.element(r[0].querySelector(".list-viewer-elements")),s=null,c=null;n.$on("clickback",function(e,t){c.velocity({top:"+="+t},400,function(){})}),n.$on("clickforward",function(e,t){c.velocity({top:"-="+t},400,function(){})}),n.$on("adjustOffsetFromLeft",function(e,t){c.css({left:"+="+t})}),o.register(function(){t(function(){l()})})}var r={restrict:"E",scope:{},controller:"ListViewerCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/list-viewer/_list-viewer-tpl.html",link:n};return r}n.$inject=["$log","$scope","ListViewerCtrlObj"],e.$inject=["$log","ListViewerObj"],t.$inject=["$log","ListViewerElemObj"],r.$inject=["$log","$timeout"],angular.module("jawboneApp").factory("ListViewerCtrlObj",e).factory("ListViewerObj",t).controller("ListViewerCtrl",n).directive("listviewer",r)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{}};return t}function t(e,t,n){var r=this;e.info("header bar: "+JSON.stringify(r.tpl))}function n(e){var t={restrict:"E",scope:{},controller:"HeaderBarCtrl",controllerAs:"ctrl",bindToController:{tpl:"="},template:"<div ng-include='ctrl.tpl'></div>"};return t}t.$inject=["$log","$scope","HeaderBarObj"],e.$inject=["$log"],n.$inject=["$log"],angular.module("jawboneApp").factory("HeaderBarObj",e).controller("HeaderBarCtrl",t).directive("headerBar",n)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{}};return t}function t(e,t,n){var r=function(e,t){function i(e,t){var n=new r(e.endpoint,e.params),i=n.params.offset||0,o=parseInt(i+t);return o=o<0?0:o,n.params.offset=o,n}var o=this;o.endpoint=e||"",o.params={};var l=t||{};o.params.max=l.max||4,o.params.offset=l.offset||0,o.params.sortBy=l.sortBy||"id",o.get=function(){return n.get(o.endpoint,{params:o.params}).then(function(e){return e.data})["catch"](function(e){return e})},o.next=function(){return i(o,o.params.max)},o.prev=function(){return i(o,-o.params.max)}};return r}function n(e,t,n,r,i){function o(e){g=e}function l(){var e=t.defer();return e.resolve(g),e.promise}function a(e){b.push(e)}function s(e){angular.forEach(b,function(t){t(e)},b)}function c(t){return n.get("/users/"+t).then(function(e){return e.data})["catch"](function(t){e.info("error getting user: "+t)})}function u(){return new i("/users")}function p(){var e=t.defer(),r={max:8,offset:0,sortBy:"first"};return n.get("/users",{params:r}).then(function(t){e.resolve(t.data.data)})["catch"](function(t){e.reject(t)}),e.promise}function d(e,t){return"trends"===e?f(t):"profile"===e?m(t):"sleeps"===e?h(t):{}}function f(e){var t=e.jbdata||{},n=t.profile||{},r=n[3]||{};return r}function m(e){return e.profile||{}}function h(e){var t=e.jbdata||{},n=t.activities||{},r=n[2]||[];return r.items}var g=null,b=[],v={init:o,getMainUser:l,getUser:c,getUsers:p,makeBatch:u,setUserCallback:a,setUser:s,extractData:d};return v}e.$inject=["$log"],t.$inject=["$log","$q","$http"],n.$inject=["$log","$q","$http","JawboneDataObj","BatchObj"],angular.module("jawboneApp").factory("JawboneDataObj",e).factory("BatchObj",t).factory("JawboneService",n)}(),function(){"use strict";function e(e){return function(e,t){return"hrs-mins"===t?parseInt(e/60)+"h "+parseInt(e%60)+"m":e}}function t(e){return function(e,t){var n=e.toString();if(8!==n.length)return n;var r=n.slice(0,4),i=n.slice(4,6),o=n.slice(6,8);return o+"/"+i+"/"+r}}t.$inject=["$log"],e.$inject=["$log"],angular.module("jawboneApp").filter("minutesConverter",e).filter("jbDate",t)}(),function(){"use strict";function e(e,t,n){e.info("we did execute the run block"),e.info("pre loaded data: "+JSON.stringify(t)),n.init(t)}e.$inject=["$log","JawboneData","JawboneService"],angular.module("run").run(e)}(),function(){"use strict";function e(e,t){t.when("/?code","profile.user"),t.otherwise(function(e,t){var n=e.get("$state");n.go("profile.sleeps")}),e.state("profile",{"abstract":!0,url:"/?code",templateUrl:"app/profile/profile-main.html",controller:"ProfileCtrl",controllerAs:"profile"}).state("profile.friends",{url:"friends",templateUrl:"app/profile/friends.html"}).state("profile.moves",{url:"moves",templateUrl:"app/profile/moves.html"}).state("profile.trends",{url:"trends",templateUrl:"app/profile/trends.html"}).state("profile.sleeps",{url:"sleeps",templateUrl:"app/profile/sleeps.html"})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("mainRoute").config(e)}(),function(){"use strict";angular.module("constants")}(),function(){"use strict";function e(e,t,n){t.debugEnabled(!0)}e.$inject=["$httpProvider","$logProvider","$locationProvider"],angular.module("config").config(e)}(),function(){"use strict";function e(e,t){var n=function(){};return n.build=function(e){return new t(e)},n}function t(e){var t=function(t){e.info("data: "+JSON.stringify(t)),this.data=t||{},this.moveSteps=t.move_steps||0,this.sleepTotal=t.sleep_total||0,this.remaining=t.remaining_for_day||{},this.sleepRem=this.remaining.sleep_seconds_remaining||0,this.intakeCaloriesRem=this.remaining.intake_calories_remaining||0,this.moveStepsRem=this.remaining.move_steps_remaining||0};return t}function n(e,t,n){var r=this;t.$watch(function(e){return r.obj},function(t,i){e.info("get here?"),t&&(r.go=new n(t),e.info("sleep rem: "+r.go.sleepRem))})}function r(e){var t={restrict:"E",scope:{},controller:"GoalsCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/goals/_goals-tpl.html"};return t}n.$inject=["$log","$scope","GoalsObj"],e.$inject=["$log","GoalsObj"],t.$inject=["$log"],r.$inject=["$log"],angular.module("jawboneApp").factory("GoalsComponentBuilder",e).factory("GoalsObj",t).controller("GoalsCtrl",n).directive("goals",r)}(),function(){"use strict";function e(e){var t=function(e){this.data=e||{}};return t}function t(e,t,n){var r=this;t.$watch(function(e){return r.obj},function(e,t){e&&(r.fo=new n(r.obj[1]))})}function n(e){var t={restrict:"E",scope:{},controller:"FriendsCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/friends/_friends-tpl.html"};return t}t.$inject=["$log","$scope","FriendsObj"],e.$inject=["$log"],n.$inject=["$log"],angular.module("jawboneApp").factory("FriendsObj",e).controller("FriendsCtrl",t).directive("friends",n)}(),function(){"use strict";function e(e){var t=function(e){e=e||{},this.visible=e.visible||!1,this.headings=e.headings||[]};return t}function t(e,t,n,r){var i=this;i.visible=!1,i.ddobj=i.dropdownObj||new t,e.info("dropdown obj: "+JSON.stringify(i.dropdownObj)),i.show=function(){i.visible=!0},i.onDeselect=function(){i.visible=!1},i.setSelected=function(e){i.ddobj.selectedFilterIdx=e}}function n(e){var t={restrict:"E",scope:{},controller:"ObiDropdownCtrl",controllerAs:"ctrl",bindToController:{dropdownObj:"="},templateUrl:"app/dropdown/_dropdown-tpl.html"};return t}e.$inject=["$log"],t.$inject=["$log","ObiBasicFiltersObject","$rootScope","$scope"],n.$inject=["$log"],angular.module("jawboneApp").factory("ObiDropdownObj",e).controller("ObiDropdownCtrl",t).directive("obiDropdown",n)}(),function(){"use strict";function e(e,t,n){n=n||0;for(var r,i,r=n;r<e.length;r++)if(i=e[r],t(i))return parseInt(r);return-1}function t(e,t,n,r){n=n||Date.prototype.addDays,r=r||1;for(var i=[],o=new Date(e);o<=t;)i.push(new Date(o)),o=n.call(o,r);return i}function n(e){var t=function(){};return t.jawboneToJSDate=function(e){var t=e.toString(),n=t.slice(0,4),r=parseInt(t.slice(4,6))-1,i=t.slice(6,8);return new Date(n,r,i)},t}function r(n,r){function i(e,t){var n=[];angular.forEach(t,function(e){},n)}var o=function(){};return o.createDateRange=t,o.createPlot=function(e,t){var n=[];return angular.forEach(e,function(e){i(e,t)},n),[]},o.createEmpty=function(e,t){var n=t||function(){return 0};return{x:e,y:[n()||0]}},o.addToArray=function(e,t,n,r){var i=e[t].y;i[n]=r},o.printit=function(e){angular.forEach(e,function(e){},e)},o.preparePlot=function(n,i,l,a){a=a||[],a.unshift("date");var s=[],c=t(n,i),u=0;return angular.forEach(c,function(e){this.push(o.createEmpty(e))},s),angular.forEach(l,function(t){u=e(c,function(e){var n=r.jawboneToJSDate(t.date);return e.toDateString()===n.toDateString()},u),u!==-1&&o.addToArray(this,u,0,t)},s),{names:a,data:s}},o.appendPlot=function(e,t,n){for(var r=e.data,i=r[0].x,l=r[r.length-1].x,a=o.preparePlot(i,l,t,n),s=a.data,c=0;c<r.length;c++)r[c].y.push(s[c].y[0]);return a.names.shift(),e.names=e.names.concat(a.names),e},o}n.$inject=["$log"],r.$inject=["$log","JawboneChartUtils"],angular.module("jawboneApp").factory("JawboneChartUtils",n).factory("PlotGenerator",r),Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t}}(),function(){"use strict";function e(e,t,n,r,i){var o=function(e,o){var l=this;l.chart=new r(e),l.getUsers=o||function(){return i.getUsers()},l.clickFtn=e.clickFtn||function(){t.onClick(new n(l.getUsers,function(t){i.getUser(t.jawboneId).then(function(n){l.chart.addCompareData(e.extractFromUser(n)),i.setUser(t)})})).then(function(e){})},l.onClick=function(){l.clickFtn()}};return o}function t(e,t){var n=function(e){function n(e,t){var n=[];return n.push(e.names),angular.forEach(e.data,function(e){var n=[];n.push(e.x),angular.forEach(e.y,function(e){n.push(l(e,t))},e.y),this.push(n)},n),n}function r(e){for(var t=1;t<e.length;t++){var n=e[t];n[1]||(n[1]=0)}}function i(n){o.elements=[],angular.forEach(n,function(t){this.push(e.makeElement(t))},o.elements);var r=new Date(2016,11,1),i=new Date(2017,2,10);o.graphData=t.preparePlot(r,i,o.elements,["craig"]),o.selectPlot(0,o.graphData)}var o=this;o.data=e||{},o.chart={},o.chart.type="LineChart",o.chartdata=[],o.chart.options={chartArea:{left:"40",top:"40",width:"60%",height:"75%"},"backgroundColor.fill":"#00ffff",explorer:{actions:["dragToZoom","rightClickToReset"],keepInBounds:!0}},o.plots=e.getPlotNames(),o.graphData=[];var l=e.extract||function(e,t){return 0};e.getElements().then(function(e){i(e)}),o.selectPlot=function(e,t){t=t||o.graphData,o.selected=o.plots[e],o.chartdata=n(o.graphData,e),r(o.chartdata),o.chart.data=google.visualization.arrayToDataTable(o.chartdata)},o.addCompareData=function(n){e.getElements(n).then(function(n){var r=[];angular.forEach(n,function(t){this.push(e.makeElement(t))},r),o.graphData=t.appendPlot(o.graphData,r,["name"]),o.selectPlot(0,o.graphData)})}};return n}function n(e,t,n,r){function i(){e.info("google chart loaded now"),o.co=new n(o.obj)}var o=this;t.$watch(function(e){return o.obj},function(e,t){e&&r.then(i)})}function r(e){var t={restrict:"E",scope:{},controller:"ChartCtrl",controllerAs:"ctrl",bindToController:{obj:"="},templateUrl:"app/chart/_chart-tpl.html"};return t}n.$inject=["$log","$scope","ChartManager","googleChartApiPromise"],e.$inject=["$log","ModalService","UserSelectorObj","ChartObj","JawboneService"],t.$inject=["$log","PlotGenerator"],r.$inject=["$log"],angular.module("jawboneApp").factory("ChartManager",e).factory("ChartObj",t).controller("ChartCtrl",n).directive("chart",r)}(),angular.module("jawboneApp").run(["$templateCache",function(e){e.put("app/_default-modal-tpl.html","default modal template"),e.put("app/_modal-frame-tpl.html",'<div class="modal-body" id="modal-body" style="padding: 4px;"><div ng-include="ctrl.template"></div></div><div class="modal-footer" style="padding: 4px;"><button class="btn btn-primary" type="button" ng-click="ctrl.ok()">OK</button> <button class="btn btn-warning" type="button" ng-click="ctrl.cancel()">Cancel</button></div>'),e.put("app/main.html",'<div class="container"><div ui-view=""></div></div>'),e.put("app/user.html",'<div class="container"><a href="/login/jawbone">login jawbone</a><div ui-view=""></div></div>'),e.put("app/chart/_chart-tpl.html",'<div class="chart-area"><div class="chart-header"><span uib-dropdown=""><a class="btn btn-default" uib-dropdown-toggle="">{{ctrl.co.chart.selected || \'select a plot...\'}} <span class="caret"></span></a><ul uib-dropdown-menu=""><li ng-repeat="item in ctrl.co.chart.plots track by $index"><span ng-click="ctrl.co.chart.selectPlot($index)">{{item}}</span></li></ul></span> <span class="btn btn-default" ng-click="ctrl.co.onClick()">add plot</span></div><div class="chart-body"><div class="chart-element"><div google-chart="" chart="ctrl.co.chart.chart" style="height:300px; width:570px; border: 1px solid #fff;"></div></div></div></div>'),e.put("app/friends/_friends-tpl.html","<div><h3>Friends</h3><p>Data: {{ctrl.fo.data | json}}</p></div>"),e.put("app/dropdown/_default-dropdown-tpl.html",'<span class="glyphicon glyphicon-menu-hamburger obi-default-dropdown-box"></span>'),e.put("app/dropdown/_dropdown-tpl.html",'<div class="obi-dropdown-container" ng-class="{ \'obi-show\': ctrl.visible }" obi-click-elsewhere="ctrl.onDeselect()"><div class="obi-dropdown-display" ng-click="ctrl.show();" ng-class="{ \'clicked\': ctrl.visible }"><span ng-include="ctrl.ddobj.templateUrl"></span></div><div class="obi-dropdown-list"><ul><li ng-repeat="$item in ctrl.ddobj.filters track by $index" ng-click="ctrl.setSelected($index)"><h5 ng-if="ctrl.ddobj.selectedFilterIdx === $index">{{$item}} <small><span class="glyphicon glyphicon-ok"></span></small></h5><h5 ng-if="ctrl.ddobj.selectedFilterIdx !== $index">{{$item}} &nbsp;</h5></li></ul></div></div>'),e.put("app/goals/_goals-tpl.html","<div><h3>Goals</h3><p>Sleep Total: {{ctrl.go.sleepTotal}}</p><p>Move Steps: {{ctrl.go.moveSteps}}</p><p>Sleep Remaining: {{ctrl.go.sleepRem}}</p><p>Intake Calories Remaining: {{ctrl.go.intakeCaloriesRem | number:2}}</p><p>Move Steps Remaining: {{ctrl.go.moveStepsRem}}</p></div>"),e.put("app/list-viewer/_default-headerbar-tpl.html",'<div class="trends-header-bar"><span>&nbsp;</span></div>'),e.put("app/list-viewer/_default-lve-tpl.html",'<div class="trends-element-style"><span>default</span></div>'),e.put("app/list-viewer/_list-viewer-tpl.html",'<div class="list-view-box"><div class="heading">{{ctrl.lo.listobj.heading}}</div><div class="filter-container" ng-show="ctrl.hasFilter"><input type="text" class="form-control" placeholder="search for..." ng-model="searchtext"></div><p></p><header-bar tpl="ctrl.lo.listobj.headerbar"></header-bar><div id="listviewerbox" class="list-viewer-elements" mouse-wheel-up="ctrl.didMouseWheelUp()" mouse-wheel-down="ctrl.didMouseWheelDown()"><ul><li ng-repeat="elem in ctrl.lo.listobj.elements track by $index"><lvelem tpl="ctrl.lo.listobj.template" obj="elem" i="{{$index}}"></lvelem></li></ul></div><div class="scroll-control" ng-show="ctrl.hasScrollers"><span class="btn btn-default scroll-button" ng-click="ctrl.back()" ng-disabled="ctrl.atStart()"><span class="glyphicon glyphicon-chevron-up"></span></span> <span class="btn btn-default scroll-button" ng-click="ctrl.forward()" ng-disabled="ctrl.atEnd()"><span class="glyphicon glyphicon-chevron-down"></span></span></div></div>'),e.put("app/moods/_moods-tpl.html","<div><h3>Moods</h3><p>Data: {{ctrl.mo.data | json}}</p></div>"),e.put("app/moves/_move-tpl.html","<p>date : {{ctrl.mo.date | jbDate}} title : {{ctrl.mo.title}}</p>"),e.put("app/moves/_moves-tpl.html",'<div><h3>Moves</h3><div ng-repeat="elem in ctrl.mo.elements"><move obj="elem"></move></div></div>'),e.put("app/profile/_sleeps-element-tpl.html",'<div class="trends-element-style">date : {{ctrl.obj.date | jbDate}} title : {{ctrl.obj.title}} sounds : {{ctrl.obj.sounds}} awakenings : {{ctrl.obj.awakenings}} light : {{ctrl.obj.light}}</div>'),
e.put("app/profile/friends.html","friends"),e.put("app/profile/moves.html",""),e.put("app/profile/profile-main.html",'<div class="profile-side-bar"><user obj="profile.userprofile"></user><ul><li><a ui-sref="profile.sleeps"><span class="glyphicon glyphicon-bed"></span> Sleeps</a></li><li><a ui-sref="profile.friends"><span class="glyphicon glyphicon-user"></span> Friends</a></li><li><a ui-sref="profile.moves"><span class="glyphicon glyphicon-transfer"></span> Moves</a></li><li><a ui-sref="profile.trends"><span class="glyphicon glyphicon-stats"></span> Trends</a></li></ul><listviewer obj="profile.recentUsers"></listviewer></div><div class="profile-main-panel slide-eff" ui-view=""></div>'),e.put("app/profile/sleeps.html",'<chart obj="profile.sleepschart"></chart><listviewer obj="profile.sleeps"></listviewer>'),e.put("app/profile/trends.html",'<chart obj="profile.trendschart"></chart><listviewer obj="profile.trends"></listviewer>'),e.put("app/profile/user.html",""),e.put("app/recent-users/_recent-users-tpl.html",""),e.put("app/side-menu/_side-menu-tpl.html","side menu tempate"),e.put("app/sleeps/_sleeps-element-tpl.html","<div class=\"trends-element-style\" ng-class=\"{'active' : ctrl.obj.element.selected }\"><span>{{ctrl.obj.element.date | jbDate}}</span> <span>{{ctrl.obj.element.title | minutesConverter:'hrs-mins'}}</span> <span>{{ctrl.obj.element.sounds}}</span> <span>{{ctrl.obj.element.awakenings}}</span> <span>{{ctrl.obj.element.light}}</span></div>"),e.put("app/sleeps/_sleeps-header-tpl.html",'<div class="trends-header-bar"><span>date</span> <span>duration</span> <span>sounds</span> <span>awakenings</span> <span>light</span></div>'),e.put("app/trends/_trends-element-tpl.html",'<div class="trends-element-style" ng-class="{\'active\' : ctrl.obj.element.selected }"><span>{{ctrl.obj.element.date | jbDate}}</span> <span>{{ctrl.obj.element.weight | number: 2}}</span> <span>{{ctrl.obj.element.height | number: 2}}</span> <span>{{ctrl.obj.element.bmr | number: 2}}</span> <span>{{ctrl.obj.element.totalCalories | number: 2}}</span> <span>{{ctrl.obj.element.age | number: 0}}</span></div>'),e.put("app/trends/_trends-header.html",'<div class="trends-header-bar"><span>date</span> <span>weight</span> <span>height</span> <span>bmr</span> <span>total calories</span> <span>age</span></div>'),e.put("app/user/_default-modal-tpl.html","default modal template"),e.put("app/user/_user-element-tpl.html",'<div class="user-list-element" ng-class="{\'active\' : ctrl.obj.element.selected }"><img ng-src="assets/users.png" height="100px" width="100px"><div class="user-details"><div class="name">{{ctrl.obj.element.first}} {{ctrl.obj.element.last}}</div><div class="features"><p>Weight: {{ctrl.obj.element.weight | number: 2}}</p><p>Gender: {{ctrl.obj.element.gender}}</p><p>Height: {{ctrl.obj.element.height}}</p></div></div></div>'),e.put("app/user/_user-select-modal-tpl.html",'<listviewer obj="ctrl.resolveArg.userlist"></listviewer>'),e.put("app/user/_user-tpl.html",'<div class="user-outer-box"><div class="img-container" ng-click="ctrl.uo.onClick()"><img ng-src="/assets/me.png" alt="image" width="200px" height="200px"><p>{{ctrl.uo.profile.first}} {{ctrl.uo.profile.last}}</p></div><h5>Weight {{ctrl.uo.profile.weight}}</h5><h5>Gender {{ctrl.uo.profile.gender}}</h5><h5>Height {{ctrl.uo.profile.height}}</h5></div>')}]);